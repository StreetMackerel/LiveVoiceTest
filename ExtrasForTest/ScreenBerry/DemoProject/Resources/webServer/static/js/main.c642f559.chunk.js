(this["webpackJsonpscreenberry-web"]=this["webpackJsonpscreenberry-web"]||[]).push([[0],{10:function(e,t,a){"use strict";t.a={SET_MP_GRID_COLUMNS:"SET_MP_GRID_COLUMNS",SET_OPEN_MP_SIDE_BAR:"SET_OPEN_MP_SIDE_BAR",SET_SELECTED_ITEM:"SET_SELECTED_ITEM",FIRST_SET_PLAYLISTS:"FIRST_SET_PLAYLISTS",RENAME_PLAYLIST:"RENAME_PLAYLIST",SET_WS:"SET_WS",SET_SELECTED_MP:"SET_SELECTED_MP",SET_MEDIA_PLAYERS:"SET_MEDIA_PLAYERS",CLOSE_WS_CONNECT:"CLOSE_WS_CONNECT",SET_STATUS:"SET_STATUS",SET_ITEMS_TIME:"SET_ITEMS_TIME",DELETE_PLAYLIST:"DELETE_PLAYLIST",UPDATE_PLAYLISTS:"UPDATE_PLAYLISTS",SET_SELECTED_PLAYLIST:"SET_SELECTED_PLAYLIST",UPDATE_MEDIA_ITEMS:"UPDATE_MEDIA_ITEMS",SET_PLAYLISTS:"SET_PLAYLISTS",RENAME_MEDIA_PLAYERS:"RENAME_MEDIA_PLAYERS",SET_SELECTED_FILES:"SET_SELECTED_FILES",SET_ML_LISTS:"SET_ML_LISTS",SET_SELECTED_ML_LIST:"SET_SELECTED_ML_LIST",SET_IP_PORT:"SET_IP_PORT",IS_CONNECTED:"IS_CONNECTED",SET_COMBO_LIST:"SET_COMBO_LIST",SET_SELECTED_WIDGET:"SET_SELECTED_WIDGET",SET_WIDGETS_XML:"SET_WIDGETS_XML",SET_WIDGETS_LIST:"SET_WIDGETS_LIST",UPDATE_REACT_WIDGET_TREE:"UPDATE_REACT_WIDGET_TREE",SERVER_VALUE_CHANGED:"SERVER_VALUE_CHANGED",PRAMS_DIFF:"PRAMS_DIFF",NODES_PARAMS:"NODES_PARAMS",SET_REGISTERED_PARAMS:"SET_REGISTERED_PARAMS",SET_COMBO_BOX_TO_FILL:"SET_COMBO_BOX_TO_FILL",UPDATE_MP_VOLUME:"UPDATE_MP_VOLUME",SHOW_LOG_MSG:"SHOW_LOG_MSG",HIDE_LOG_MSG:"HIDE_LOG_MSG",CLEAN_REGISTERED_PARAMS:"CLEAN_REGISTERED_PARAMS"}},233:function(e,t,a){"use strict";t.a=function(e){var t=e.lastIndexOf("/");return e.slice(t+1).replace(/.rva|.erva|.edvi|.edv/g,"")}},235:function(e,t,a){"use strict";t.a=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];var r=this;t&&clearTimeout(t),t=setTimeout((function(){t=null,e.apply(r,i)}),a)}}},24:function(e,t,a){"use strict";a.d(t,"a",(function(){return G})),a.d(t,"e",(function(){return L})),a.d(t,"b",(function(){return N})),a.d(t,"d",(function(){return A})),a.d(t,"c",(function(){return k})),a.d(t,"f",(function(){return F}));var n=a(12),i=a(0),c=a(44),r=a(5),o=a(399),l=a.n(o),s=a(10),d={widgetsList:[],widgetsURL:null,selectedWidget:null,widgetsXML:null,ws:null,updateReactWidgetTree:0,comboLists:[],updatedParams:[],disabledElements:[],nodesParams:null,registeredParameters:[],comboBoxToFill:[]},u=function(e,t){var a=t.type,n=t.payload;switch(a){case s.a.CLOSE_WS_CONNECT:return Object(r.a)(Object(r.a)({},d),{},{selectedWidget:e.selectedWidget});case s.a.SET_COMBO_LIST:var i=n[0].comboList.map((function(e){return""===e?"None":e}));return Object(r.a)(Object(r.a)({},e),{},{comboLists:[].concat(Object(c.a)(e.comboLists),[Object(r.a)(Object(r.a)({},n[0]),{},{comboList:i})])});case s.a.SET_SELECTED_WIDGET:return Object(r.a)(Object(r.a)({},e),{},{selectedWidget:n});case s.a.SET_WIDGETS_XML:return Object(r.a)(Object(r.a)({},e),{},{widgetsXML:n});case s.a.SET_WIDGETS_LIST:var o=n.wizardsList.map((function(e){return{value:e,label:e}}));return Object(r.a)(Object(r.a)({},e),{},{widgetsList:o,widgetsXML:null,widgetsURL:n.wizardsURL});case s.a.SET_WS:return Object(r.a)(Object(r.a)({},e),{},{ws:n});case s.a.UPDATE_REACT_WIDGET_TREE:return Object(r.a)(Object(r.a)({},e),{},{updateReactWidgetTree:e.updateReactWidgetTree+1});case s.a.SERVER_VALUE_CHANGED:return Object(r.a)(Object(r.a)({},e),{},{updatedParams:n});case s.a.PRAMS_DIFF:var u;return(null===e||void 0===e||null===(u=e.selectedWidget)||void 0===u?void 0:u.includes(n[1]))&&"source"!==n[2]?Object(r.a)(Object(r.a)({},e),{},{disabledElements:n}):e;case s.a.NODES_PARAMS:return Object(r.a)(Object(r.a)({},e),{},{nodesParams:l()(n)});case s.a.SET_REGISTERED_PARAMS:return Object(r.a)(Object(r.a)({},e),{},{registeredParameters:[].concat(Object(c.a)(e.registeredParameters),[n])});case s.a.CLEAN_REGISTERED_PARAMS:return Object(r.a)(Object(r.a)({},e),{},{registeredParameters:[]});case s.a.SET_COMBO_BOX_TO_FILL:return Object(r.a)(Object(r.a)({},e),{},{comboBoxToFill:[].concat(Object(c.a)(e.comboBoxToFill),[n])});default:return e}},b=a(144),j=a(93),p=a(309),O=a.n(p),m=function(e){var t;if(Array.isArray(e))return e.length>0;if(e&&"object"===typeof e&&e.constructor===Object){for(t in e)return!0;return!1}return"string"===typeof e?e.length>0:null!=e},f={mediaPlayers:[],ws:null,playlists:[],MPGridColumns:+localStorage.getItem("MPGridColumns")||4,openMPSideBar:!1,selectedMP:null,currentPlayingItemId:null,currentPlayingPlaylistId:null,currentPlayingItem:{},selectedItem:null,selectedPlaylist:null,openMobileMPSideBar:!1,statusTransportControl:null,isCurrentPlayingPlaylist:null},h=function(e,t){var a=t.type,n=t.payload;switch(a){case s.a.UPDATE_MP_VOLUME:return e.selectedMP.label===n[1]?Object(r.a)(Object(r.a)({},e),{},{selectedMP:Object(r.a)(Object(r.a)({},e.selectedMP),{},{volume:n[3][1]})}):e;case s.a.SET_MP_GRID_COLUMNS:return localStorage.setItem("MPGridColumns",n),Object(r.a)(Object(r.a)({},e),{},{MPGridColumns:n});case s.a.SET_OPEN_MP_SIDE_BAR:return Object(r.a)(Object(r.a)({},e),n);case s.a.SET_SELECTED_MP:var i=e.mediaPlayers.find((function(e){return e.value===n}));return Object(r.a)(Object(r.a)({},e),{},{playlists:[],selectedPlaylist:null,selectedMP:i});case s.a.SET_SELECTED_ITEM:return Object(r.a)(Object(r.a)({},e),{},{selectedItem:n});case s.a.SET_SELECTED_PLAYLIST:return Object(r.a)(Object(r.a)({},e),{},{selectedPlaylist:n,isCurrentPlayingPlaylist:n.id===e.currentPlayingPlaylistId,selectedItem:null});case s.a.FIRST_SET_PLAYLISTS:return Object(r.a)(Object(r.a)({},e),{},{playlists:n});case s.a.RENAME_PLAYLIST:var o=Object(b.a)(e.playlists,(function(e,t,a){return"id"!==t||e!==n[0]||0!==a.type&&1!==a.type||(a.label=n[1],a.value=a.id+n[1]),t}));return Object(r.a)(Object(r.a)({},e),{},{selectedPlaylist:e.selectedPlaylist.id===n[0]?Object(r.a)(Object(r.a)({},e.selectedPlaylist),{},{label:n[1],value:n[0]+n[1]}):e.selectedPlaylist,playlists:o});case s.a.SET_WS:return Object(r.a)(Object(r.a)({},e),{},{ws:n});case s.a.SET_MEDIA_PLAYERS:return Object(r.a)(Object(r.a)({},e),n);case s.a.CLOSE_WS_CONNECT:return Object(r.a)(Object(r.a)({},e),{},{ws:null});case s.a.SET_STATUS:var l;if(e.currentPlayingItemId!==n.currentPlayingItemId||e.currentPlayingPlaylistId!==n.currentPlayingPlaylistId||!(null===(l=e.currentPlayingItem)||void 0===l?void 0:l.timeAmount)){var d,u,p,f=null===(d=Object(j.a)(e.playlists,(function(e,t,a){if((null===a||void 0===a?void 0:a.id)===n.currentPlayingPlaylistId&&a.label&&a.type)return!0})))||void 0===d?void 0:d.parent;return f?Object(r.a)(Object(r.a)(Object(r.a)({},e),n),{},{isCurrentPlayingPlaylist:(null===(u=e.selectedPlaylist)||void 0===u?void 0:u.id)===n.currentPlayingPlaylistId,currentPlayingItem:null===(p=f.playlist)||void 0===p?void 0:p.items.find((function(e){return e.id===n.currentPlayingItemId}))}):e}return n.statusTransportControl!==e.statusTransportControl?Object(r.a)(Object(r.a)({},e),n):e;case s.a.SET_ITEMS_TIME:var h=Object(b.a)(e.playlists,(function(e,t,a){if("mediaFilename"===t&&e&&!a.timeAmount){var i=n.find((function(e){return e[0]===a.path}));i&&(a.timeAmount=i[2]/i[4],a.frames=i[2],a.fps=i[4],a.isImage=!!i[5],a.hasAudio=!!i[1])}return t})),g=n.map((function(e){return{path:e[0],timeAmount:e[2]/e[4],frames:e[2],fps:e[4],isImage:!!e[5],hasAudio:!!e[1]}}));return Object(r.a)(Object(r.a)({},e),{},{mediaFilesList:g,playlists:h});case s.a.DELETE_PLAYLIST:var E,v=O()(e.playlists,(function(e,t,a){return(null===a||void 0===a?void 0:a.id)!==n||0!==a.type&&1!==a.type})),x=O()(v,m),S=null===(E=Object(j.a)(x,(function(e,t,a){if(1===(null===a||void 0===a?void 0:a.type))return!0})))||void 0===E?void 0:E.parent;return Object(r.a)(Object(r.a)({},e),{},{playlists:x,selectedPlaylist:S});case s.a.UPDATE_PLAYLISTS:if(n.goupId){var y=Object(b.a)(e.playlists,(function(e,t,a){return e===n.goupId&&"id"===t&&0===(null===a||void 0===a?void 0:a.type)&&(a.children?a.children.push(n):a.children=[n]),t}),{skipChildren:!0});return Object(r.a)(Object(r.a)({},e),{},{playlists:y})}return Object(r.a)(Object(r.a)({},e),{},{playlists:[].concat(Object(c.a)(e.playlists),[n])});case s.a.UPDATE_MEDIA_ITEMS:var T=Object(b.a)(e.playlists,(function(t,a,i){return(null===i||void 0===i?void 0:i.id)===n.playlistId&&"type"===a&&1===t&&(i.playlist={items:n.items.map((function(t){var a=e.mediaFilesList.find((function(e){return e.path===t.path}));return Object(r.a)(Object(r.a)({},a),t)}))}),a}));if(e.selectedItem){var _,I=null===(_=Object(j.a)(T,(function(t,a,i){if("id"===a&&t===e.selectedItem.id&&e.selectedItem.path===i.path&&n.playlistId===i.playlistId)return!0})))||void 0===_?void 0:_.parent;return Object(r.a)(Object(r.a)({},e),{},{playlists:T,selectedItem:I})}return Object(r.a)(Object(r.a)({},e),{},{playlists:T});case s.a.SET_PLAYLISTS:return Object(r.a)(Object(r.a)({},e),{},{playlists:n});case s.a.RENAME_MEDIA_PLAYERS:var P=e.mediaPlayers.map((function(e){return e.label===n[0]?Object(r.a)(Object(r.a)({},e),{},{label:n[1],value:n[1]}):e}));return Object(r.a)(Object(r.a)({},e),{},{mediaPlayers:P,selectedMP:Object(r.a)(Object(r.a)({},e.selectedMP),{},{label:n[0],value:n[0]})});default:return e}},g={currentPlayingProgress:null},E=function(e,t){var a=t.type,n=t.payload;switch(a){case s.a.SET_STATUS:return Object(r.a)(Object(r.a)({},e),n);default:return e}},v=5,x=4,S=3,y={ip:null,logMsg:{showLogMsg:!1,from:null,msg:null,severity:null,duration:0},isConnected:!1,port:null},T=function(e,t){var a=t.type,n=t.payload;switch(a){case s.a.SET_IP_PORT:return Object(r.a)(Object(r.a)({},e),n);case s.a.IS_CONNECTED:return Object(r.a)(Object(r.a)({},e),{},{isConnected:!0,logMsg:{showLogMsg:!0,duration:2e3,msg:"Server is connected.",severity:"success"}});case s.a.IS_DISCONNECTED:return Object(r.a)(Object(r.a)({},e),{},{isConnected:!1,logMsg:{showLogMsg:!0,duration:1e4,msg:"Server is disconnected.",severity:"error"}});case s.a.SHOW_LOG_MSG:var i=null;return v===n[2]&&(i="error"),x===n[2]&&(i="warning"),S===n[2]&&(i="info"),i?Object(r.a)(Object(r.a)({},e),{},{logMsg:{showLogMsg:!0,from:n[1],msg:n[3],severity:i}}):e;case s.a.HIDE_LOG_MSG:return Object(r.a)(Object(r.a)({},e),{},{logMsg:Object(r.a)(Object(r.a)({},e.logMsg),{},{showLogMsg:!1})});default:return e}},_=a(233),I={selectedFolder:{},selectedFiles:[],playlistItems:[],MLFoldersTree:[]},P=function(e,t){var a=t.type,n=t.payload;switch(a){case s.a.SET_SELECTED_FILES:return Object(r.a)(Object(r.a)({},e),{},{selectedFiles:n});case s.a.SET_ML_LISTS:if(e.playlistItems.length!==n.length){var i=n.filter((function(e){return e[2]>0})).map((function(e){return{path:e[0],timeAmount:e[2]/e[4]}})),o=n.filter((function(e){return 0===e[2]})).map((function(e){return e[0].split("/")})),l=[];o.forEach((function(e){e.reduce((function(e,t){var a=e.find((function(e){var a=e.value;return t===a}));return a||(a={value:t,label:t,children:[]},e.push(a)),a.children}),l)}));var d=Object(b.a)(l,(function(e,t,a){return"value"===t&&(a.mediaFiles=i.reduce((function(e,n,i){return n.path.includes(a[t])?[].concat(Object(c.a)(e),[{path:n.path,index:i,id:i,fileName:Object(_.a)(n.path),timeAmount:n.timeAmount}]):e}),[])),"children"===t&&0===e.length&&(a.children=null),t}));return Object(r.a)(Object(r.a)({},e),{},{MLFoldersTree:d})}return e;case s.a.SET_SELECTED_ML_LIST:return Object(r.a)(Object(r.a)({},e),{},{selectedFolder:n});default:return e}},C=a(3),w=Object(i.createContext)(),L=function(){return Object(i.useContext)(w)},M=Object(i.createContext)(),N=function(){return Object(i.useContext)(M)},R=Object(i.createContext)(),A=function(){return Object(i.useContext)(R)},D=Object(i.createContext)(),k=function(){return Object(i.useContext)(D)},B=Object(i.createContext)(),F=function(){return Object(i.useContext)(B)},G=function(e){var t=e.children,a=Object(i.useReducer)(u,d),c=Object(n.a)(a,2),r=c[0],o=c[1],l=Object(i.useReducer)(h,f),s=Object(n.a)(l,2),b=s[0],j=s[1],p=Object(i.useReducer)(E,g),O=Object(n.a)(p,2),m=O[0],v=O[1],x=Object(i.useReducer)(T,y),S=Object(n.a)(x,2),_=S[0],L=S[1],N=Object(i.useReducer)(P,I),A=Object(n.a)(N,2),k=A[0],F=A[1],G=Object(i.useMemo)((function(){return[r,o]}),[r]),W=Object(i.useMemo)((function(){return[b,j]}),[b]),Y=Object(i.useMemo)((function(){return[m,v]}),[m]),H=Object(i.useMemo)((function(){return[_,L]}),[_]),z=Object(i.useMemo)((function(){return[k,F]}),[k]);return Object(C.jsx)(M.Provider,{value:z,children:Object(C.jsx)(w.Provider,{value:H,children:Object(C.jsx)(R.Provider,{value:W,children:Object(C.jsx)(D.Provider,{value:Y,children:Object(C.jsx)(B.Provider,{value:G,children:t})})})})})}},261:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));var n=a(5),i=a(12),c=a(0),r=a(194),o=a(146),l=a(779),s=a(781),d=a(324),u=a(735),b=a(725),j=a(424),p=a.n(j),O=a(255),m=a.n(O),f=a(24),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a="~begin~float~",n="~end~float~",i=0,c=function(e,c){if(t.includes(i)&&"number"===typeof c){var r=t.indexOf(i);return r>-1&&t.splice(r,1),++i,"".concat(a).concat(c).concat(n)}return++i,c},r=function(e,t){return t.includes(".")||Number.isNaN(t)?t:"".concat(t,".0")},o=JSON.stringify(e,c),l=new RegExp('"'.concat(a,"(.+?)").concat(n,'"'),"g");return o.replace(l,r)},g=a(39),E=function(e){var t=e.selectedMP,a=e.selectedPlaylistId,n=e.selectedItem,i=e.label,c=void 0===i?"_nc_":i,r=e.infinityLoop,o=void 0===r?-1:r,l=e.loops,s=void 0===l?-1:l,d=e.muted,u=void 0===d?-1:d,b=e.volume,j=void 0===b?-1:b,p=e.pauseOnStart,O=void 0===p?-1:p,m=e.pauseOnEnd,f=void 0===m?-1:m,E=e.fadeIn,v=void 0===E?-1:E,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[9];return h(["".concat(t.label,"/").concat(g.a.SET_ITEMS_PARAMS),a,1,n.index,["_nc_",c,-1,j,u,0,"_nc_",[4,0,0,255,255,4,0,0,255,255,4,0,0,255,255,4,0,0,255,255,2147483647,2147483647,2147483647],-1,"_nc_",0,1,-1,-1,-1,0,-1,0,-1,-1,-1,-1,[s,o,O,f,-1,-1,v,-1,-1,-1,-1],-1]],x)},v=a(803),x=a(444),S=a(780),y=a(799),T=a(235),_=a(3),I=Object(b.a)((function(e){return{root:{flex:1,textAlign:"center",paddingTop:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingBottom:e.spacing(1)},input:{width:"60% !important",textAlign:"left","& .rs-input-number-btn-group-vertical":{display:"none"},"& input":{textAlign:"center"}},FormControlLabel:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(1),width:"100%",marginLeft:"0"},FormControlLabelSwitch:{marginBottom:e.spacing(1),display:"flex",marginLeft:"0"},Slider:{width:"80%"},flexContainerColumn:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"flex-start"},flexWrapper:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",marginBottom:e.spacing(1)},label:{color:function(e){return!e.selectedItem&&"#ffffff80"},whiteSpace:"nowrap"},volumeWrapper:{display:"flex",alignItems:"center"}}})),P=function(){var e=Object(f.d)(),t=Object(i.a)(e,1)[0],a=t.ws,b=t.selectedItem,j=t.selectedMP,O=t.selectedPlaylist,h=I({selectedItem:b}),g=Object(v.a)().t,P=Object(c.useState)(0),C=Object(i.a)(P,2),w=C[0],L=C[1],M=Object(c.useState)(""),N=Object(i.a)(M,2),R=N[0],A=N[1],D=Object(c.useState)(0),k=Object(i.a)(D,2),B=k[0],F=k[1],G=Object(c.useState)(!1),W=Object(i.a)(G,2),Y=W[0],H=W[1],z=Object(c.useState)(!1),U=Object(i.a)(z,2),V=U[0],J=U[1],X=Object(c.useState)(!1),K=Object(i.a)(X,2),$=K[0],q=K[1],Q=Object(c.useState)(0),Z=Object(i.a)(Q,2),ee=Z[0],te=Z[1],ae=Object(c.useRef)(null),ne=Object(c.useRef)(null),ie={ws:a,selectedMP:j,selectedPlaylistId:null===O||void 0===O?void 0:O.id,selectedItem:b},ce=Object(c.useRef)(Object(T.a)((function(e){return e.ws.send(E(e))}))),re=function(e){a&&(A(e),ce.current(Object(n.a)({label:e},ie)))},oe=function(e){F(e),e>=0&&e<=b.timeAmount&&ce.current(Object(n.a)({fadeIn:1e6*e},ie))},le=function(e){a&&(te(e),e>=1&&ce.current(Object(n.a)({loops:+e},ie)))},se=function(e,t){if(a){var i=t?1:0;a.send(E(Object(n.a)({pauseOnStart:i},ie))),H(t)}},de=function(e,t){a&&(a.send(E(Object(n.a)({pauseOnEnd:t?1:0},ie))),J(t))},ue=function(e,t){a&&(a.send(E(Object(n.a)({infinityLoop:t?1:0},ie))),q(t))},be=function(e,t){return L(t)},je=function(e,t){a&&a.send(E(Object(n.a)({volume:t/100},ie)))},pe=function(){a&&a.send(E(Object(n.a)({muted:(null===b||void 0===b?void 0:b.muted)?0:1},ie)))};return Object(c.useEffect)((function(){L(100*(null===b||void 0===b?void 0:b.volume))}),[null===b||void 0===b?void 0:b.volume]),Object(c.useEffect)((function(){H(!!(null===b||void 0===b?void 0:b.pauseOnStart))}),[null===b||void 0===b?void 0:b.pauseOnStart]),Object(c.useEffect)((function(){J(!!(null===b||void 0===b?void 0:b.pauseOnEnd))}),[null===b||void 0===b?void 0:b.pauseOnStart]),Object(c.useEffect)((function(){te(null===b||void 0===b?void 0:b.loops)}),[null===b||void 0===b?void 0:b.loops]),Object(c.useEffect)((function(){(null===b||void 0===b?void 0:b.fadeIn)>=0&&F(b.fadeIn)}),[null===b||void 0===b?void 0:b.fadeIn]),Object(c.useEffect)((function(){A(null===b||void 0===b?void 0:b.label)}),[null===b||void 0===b?void 0:b.label]),Object(c.useEffect)((function(){q(!!(null===b||void 0===b?void 0:b.infinityLoop))}),[null===b||void 0===b?void 0:b.infinityLoop]),Object(c.useMemo)((function(){return Object(_.jsxs)(r.a,{className:h.root,children:[Object(_.jsx)(o.a,{variant:"h6",children:g("Item Settings")}),Object(_.jsxs)("div",{className:h.flexContainerColumn,children:[Object(_.jsx)(l.a,{disabled:!b,className:h.FormControlLabel,control:Object(_.jsx)(x.a,{className:h.input,size:"sm"}),onChange:re,label:"".concat(g("Label"),":"),value:R||"",labelPlacement:"start"}),Object(_.jsx)(l.a,{disabled:!b,className:h.FormControlLabel,value:"",control:Object(_.jsxs)(S.a,{className:h.input,children:[Object(_.jsx)(S.a.Button,{onClick:function(){return e=b,void(a&&e&&ne.current.handleMinus());var e},children:"-"}),Object(_.jsx)(y.a,{disabled:!b,size:"sm",value:B||""===B?B:0,onChange:oe,ref:ne,step:.5,postfix:"s",min:0}),Object(_.jsx)(S.a.Button,{onClick:function(){return e=b,void(a&&e&&ne.current.handlePlus());var e},children:"+"})]}),label:"".concat(g("Fade in"),":"),labelPlacement:"start"}),Object(_.jsx)(l.a,{disabled:!b,className:h.FormControlLabelSwitch,control:Object(_.jsx)(s.a,{}),label:"".concat(g("Pause on start"),":"),checked:Y,onChange:se,labelPlacement:"start"}),Object(_.jsx)(l.a,{disabled:!b,className:h.FormControlLabelSwitch,checked:V,control:Object(_.jsx)(s.a,{}),label:"".concat(g("Pause on end"),":"),onChange:de,labelPlacement:"start"}),Object(_.jsx)(l.a,{disabled:!b||!!(null===b||void 0===b?void 0:b.infinityLoop),className:h.FormControlLabel,value:"",control:Object(_.jsxs)(S.a,{className:h.input,children:[Object(_.jsx)(S.a.Button,{onClick:function(){return e=!b||!!(null===b||void 0===b?void 0:b.infinityLoop),void(a&&!e&&ae.current.handleMinus());var e},children:"-"}),Object(_.jsx)(y.a,{size:"sm",value:ee>0||""===ee?ee:1,onChange:le,ref:ae,min:0}),Object(_.jsx)(S.a.Button,{onClick:function(){return e=!b||!!(null===b||void 0===b?void 0:b.infinityLoop),void(a&&!e&&ae.current.handlePlus());var e},children:"+"})]}),label:"".concat(g("Loops"),":"),labelPlacement:"start"}),Object(_.jsx)(l.a,{disabled:!b,className:h.FormControlLabelSwitch,control:Object(_.jsx)(s.a,{}),label:"".concat(g("Infinity loop"),":"),checked:$,onChange:ue,labelPlacement:"start"}),Object(_.jsxs)("div",{className:h.flexWrapper,children:[Object(_.jsx)(o.a,{className:h.label,children:"".concat(g("Volume"),":")}),(null===b||void 0===b?void 0:b.muted)?Object(_.jsx)(d.a,{onClick:pe,children:Object(_.jsx)(p.a,{color:b?"inherit":"disabled"})}):Object(_.jsx)(d.a,{onClick:pe,children:Object(_.jsx)(m.a,{color:b?"inherit":"disabled"})}),Object(_.jsx)(u.a,{className:h.Slider,disabled:!b||!!(null===b||void 0===b?void 0:b.muted),onChange:be,onChangeCommitted:je,value:w})]})]})]})}),[a,h,Y,V,$,R,ee,g,B,w,b,j,O])}},270:function(e,t,a){"use strict";a.d(t,"a",(function(){return R}));var n=a(12),i=a(0),c=a(725),r=a(319),o=a.n(r),l=a(318),s=a.n(l),d=a(426),u=a.n(d),b=a(425),j=a.n(b),p=a(448),O=a(146),m=a(324),f=a(763),h=a(772),g=a(782),E=a(797),v=a(802),x=a(444),S=a(24),y=a(803),T=a(55),_=a(81),I=a(29),P=a.n(I),C=a(93),w=a(39),L=a(10),M=a(3),N=Object(c.a)((function(e){return{flexWrapper:{display:"flex",alignItems:"center",justifyContent:"flex-start",fontSize:"15px"},icon:{marginRight:e.spacing(.5)},iconButton:{color:"white",width:"30px",height:"30px"},message:{width:"90%"},inputRename:{marginRight:e.spacing(1),textAlign:"left"},playlistLabel:{overflow:"hidden",textOverflow:"ellipsis",display:"webkit-box",webKitLineClamp:3,webKitBoxOrient:"vertical",whiteSpace:"nowrap",fontSize:"13px"},addBtn:{width:"95%",margin:e.spacing(1)},warningMsg:{width:"90%"},marginLeft:{marginLeft:e.spacing(1)}}})),R=function(){var e=N(),t=Object(S.d)(),a=Object(n.a)(t,2),c=a[0],r=c.playlists,l=c.ws,d=c.selectedPlaylist,b=c.selectedMP,I=a[1],R=Object(y.a)().t,A=Object(T.e)(),D=P.a.parse(window.location.search).page,k=Object(i.useState)(null),B=Object(n.a)(k,2),F=B[0],G=B[1],W=Object(i.useState)(null),Y=Object(n.a)(W,2),H=Y[0],z=Y[1],U=Object(i.useState)(null),V=Object(n.a)(U,2),J=V[0],X=V[1],K=function(e){I({type:L.a.SET_SELECTED_PLAYLIST,payload:e}),Object(_.a)({page:D,history:A,params:{playlistId:null===e||void 0===e?void 0:e.id}})},$=function(){l&&l.send(JSON.stringify(["".concat(b.label,"/").concat(w.a.GROUP_ITEM_REMOVE),F.id])),G(null)},q=function(e){e.preventDefault(),l&&J&&l.send(JSON.stringify(["".concat(b.label,"/").concat(w.a.GROUP_ITEM_RENAME),H.id,J])),z(null)},Q=function(){l&&l.send(JSON.stringify(["".concat(b.label,"/").concat(w.a.GROUP_ITEM_ADD),0,1e3,1,"Playlist",0])),setTimeout((function(){var e=document.querySelector(".rs-tree-nodes");null===e||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),100)};return Object(i.useEffect)((function(){if("media-player"===D&&d&&b.label)Object(_.a)({page:D,history:A,params:{MP:b.label,playlistId:(null===d||void 0===d?void 0:d.id)||null}});else{var e=P.a.parse(window.location.search).playlistId;if(r.length&&(null===d||void 0===d?void 0:d.id)!==+e&&"media-player"===D){var t,a=null;if(e)a=null===(t=Object(C.a)(r,(function(t,a,n){if(1===n.type&&n.id===+e)return!0})))||void 0===t?void 0:t.parent;if(a)I({type:L.a.SET_SELECTED_PLAYLIST,payload:a});else{var n,i=null===(n=Object(C.a)(r,(function(e,t,a){if(1===a.type)return!0})))||void 0===n?void 0:n.parent;I({type:L.a.SET_SELECTED_PLAYLIST,payload:i}),Object(_.a)({page:D,history:A,params:{playlistId:null===i||void 0===i?void 0:i.id}})}}}}),[r,d,b,D]),Object(i.useMemo)((function(){return Object(M.jsx)(v.a,{onSelect:K,defaultExpandAll:!0,placeholder:R("Select Playlist"),data:r,cleanable:!1,onClose:function(){z(null),G(null)},value:null===d||void 0===d?void 0:d.value,renderTreeNode:function(t){return Object(M.jsxs)(p.a,{children:[t.id!==(null===H||void 0===H?void 0:H.id)&&Object(M.jsxs)(p.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(M.jsxs)(p.a,{overflow:"hidden",fontSize:15,display:"flex",alignItems:"center",children:[t.type?Object(M.jsx)(s.a,{className:e.icon,fontSize:"default"}):Object(M.jsx)(o.a,{className:e.icon,fontSize:"default"}),Object(M.jsx)(O.a,{component:"p",className:e.playlistLabel,children:t.label})]}),Object(M.jsxs)(p.a,{display:"flex",children:[Object(M.jsx)(m.a,{onClick:function(e){return function(e,t){e.stopPropagation(),X(null),z((function(e){return(null===e||void 0===e?void 0:e.id)!==t.id?t:null}))}(e,t)},size:"small",className:e.iconButton,children:Object(M.jsx)(j.a,{})}),Object(M.jsx)(m.a,{onClick:function(e){return function(e,t){e.stopPropagation(),r.length>1&&G((function(e){return(null===e||void 0===e?void 0:e.id)!==t.id?t:null}))}(e,t)},size:"small",className:e.iconButton,children:Object(M.jsx)(u.a,{})})]})]}),t.id===(null===H||void 0===H?void 0:H.id)&&Object(M.jsx)(f.a,{onClick:function(e){return e.stopPropagation()},in:!!H,children:Object(M.jsxs)(p.a,{onSubmit:q,component:"form",display:"flex",justifyContent:"center",alignItems:"center",m:1,children:[Object(M.jsx)(x.a,{autoFocus:!0,onChange:function(e){return X(e)},onKeyDown:function(e){return e.stopPropagation()},value:""===J||J?J:H.label,className:e.inputRename}),Object(M.jsx)(h.a,{type:"submit",size:"small",variant:"outlined",children:R("Save")})]})})]})},renderValue:function(t,a){return Object(M.jsxs)(p.a,{display:"flex",children:[a.type?Object(M.jsx)(s.a,{className:e.icon,fontSize:"small"}):Object(M.jsx)(o.a,{className:e.icon,fontSize:"small"}),a.label]})},style:{marginBottom:8},menuStyle:{width:"24vw"},renderExtraFooter:function(){return Object(M.jsxs)(M.Fragment,{children:[F&&Object(M.jsx)(f.a,{in:!!F,children:Object(M.jsxs)(E.a,{classes:{message:e.message},severity:"warning",elevation:6,variant:"filled",children:[Object(M.jsx)(O.a,{className:e.warningMsg,children:'"'.concat(F.label,'" ').concat(R("will be removed!"))}),Object(M.jsxs)(p.a,{display:"flex",justifyContent:"flex-end",children:[Object(M.jsx)(h.a,{size:"small",variant:"contained",color:"secondary",onClick:$,children:R("Yes")}),Object(M.jsx)(h.a,{size:"small",variant:"contained",color:"secondary",className:e.marginLeft,onClick:function(){return G(null)},children:R("No")})]})]})}),Object(M.jsx)(g.a,{variant:"middle"}),Object(M.jsx)(h.a,{variant:"outlined",className:e.addBtn,onClick:Q,children:R("New Playlist")})]})}})}),[r,l,d,e,b,H,F,J,J,R])}},271:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(12),i=a(0),c=a(798),r=a(24),o=a(803),l=a(55),s=a(29),d=a.n(s),u=a(81),b=a(10),j=a(3),p=function(){var e=Object(o.a)().t,t=Object(r.d)(),a=Object(n.a)(t,2),s=a[0],p=s.mediaPlayers,O=s.selectedMP,m=a[1],f=Object(l.e)(),h=d.a.parse(window.location.search).page,g=function(e){O.label!==e&&(m({type:b.a.SET_SELECTED_MP,payload:e}),Object(u.a)({page:h,history:f,params:{MP:e}}))};return Object(i.useEffect)((function(){var e,t=d.a.parse(window.location.search).MP;p.length&&t!==O.label&&"media-player"===h&&(t?m({type:b.a.SET_SELECTED_MP,payload:O}):Object(u.a)({page:h,history:f,params:{MP:null===(e=p[0])||void 0===e?void 0:e.label}}))}),[p]),Object(i.useMemo)((function(){return Object(j.jsx)(c.a,{size:"md",placeholder:e("Select Media Player"),data:p,cleanable:!1,value:null===O||void 0===O?void 0:O.value,style:{width:"100%",marginBottom:8},onChange:g})}),[p,e,O])}},388:function(e,t,a){"use strict";(function(e){var n=a(5),i=a(12),c=a(32),r=a(0),o=a(725),l=a(50),s=a(428),d=a.n(s),u=a(429),b=a.n(u),j=a(730),p=a(326),O=a(324),m=a(734),f=a(448),h=a(732),g=a(146),E=a(735),v=a(24),x=a(261),S=a(270),y=a(271),T=a(10),_=a(3),I=Object(o.a)((function(e){return{typography:{marginRight:e.spacing(2)},icon:{height:35,width:35},iconBtn:Object(c.a)({},e.breakpoints.down("sm"),{paddingBottom:0,paddingTop:0}),SwipeableDrawer:{width:"80%"}}})),P=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),C=[{value:1,label:1},{value:2,label:2},{value:3,label:3},{value:4,label:4},{value:5,label:5},{value:6,label:6}];t.a=function(e){var t=e.style,a=I(),c=Object(l.a)(),o=Object(v.d)(),s=Object(i.a)(o,2),u=s[0],w=u.MPGridColumns,L=u.openMPSideBar,M=u.openMobileMPSideBar,N=s[1],R=Object(r.useState)(null),A=Object(i.a)(R,2),D=A[0],k=A[1],B=Object(r.useState)(w),F=Object(i.a)(B,2),G=F[0],W=F[1],Y=Object(j.a)(c.breakpoints.down("sm")),H=Boolean(D),z=H?"simple-popover":void 0,U=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&N({type:T.a.SET_OPEN_MP_SIDE_BAR,payload:{openMobileMPSideBar:e}})}};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(p.a,{style:Object(n.a)({width:"auto"},t),justify:"flex-end",container:!0,wrap:"nowrap",spacing:1,children:[!Y&&Object(_.jsx)(p.a,{className:a.AspectRatio,item:!0,children:Object(_.jsx)(O.a,{"aria-describedby":z,onClick:function(e){return k(e.currentTarget)},children:Object(_.jsx)(d.a,{className:a.icon})})}),Object(_.jsxs)(p.a,{item:!0,children:[Object(_.jsx)(O.a,{className:a.iconBtn,onClick:Y?U(!0):function(){return N({type:T.a.SET_OPEN_MP_SIDE_BAR,payload:{openMPSideBar:!L}})},children:Object(_.jsx)(b.a,{className:a.icon})}),Y&&Object(_.jsxs)(m.a,{anchor:"right",onClose:U(!1),onOpen:U(!0),open:M,classes:{paper:a.SwipeableDrawer},ModalProps:{disableEnforceFocus:!0},disableBackdropTransition:!P,disableDiscovery:P,children:[Object(_.jsxs)(f.a,{mt:1,mx:1,children:[Object(_.jsx)(y.a,{}),Object(_.jsx)(S.a,{})]}),Object(_.jsx)(x.a,{})]})]})]}),Object(_.jsx)(h.a,{id:z,open:H,anchorEl:D,onClose:function(){return k(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:Object(_.jsxs)(f.a,{display:"flex",alignItems:"center",width:"20vw",mx:2,my:1,children:[Object(_.jsx)(g.a,{className:a.typography,children:"Columns"}),Object(_.jsx)(E.a,{onChange:function(e,t){return W(t)},onChangeCommitted:function(e,t){return N({type:T.a.SET_MP_GRID_COLUMNS,payload:t})},value:G,min:1,marks:C,max:6,step:1})]})})]})}}).call(this,a(658))},39:function(e,t,a){"use strict";t.a={GET_ROOT_GROOP:120,SET_ITEMS_PARAMS:210,ROOT_GROOP_RECEIVED:1100,UPDATE_PLAYLISTS_RECEIVED:1110,STATUS_RECEIVED:1e3,MEDIA_ITEM_REMOVED:1120,GROUP_ITEM_RENAMED:1130,GROUP_ITEM_REMOVE:150,GROUP_ITEM_ADD:140,GROUP_ITEM_RENAME:160,GROUP_ITEM_MOVED:1140,UPDATE_MEDIA_ITEMS_RECEIVED:1160,PLAYLIST_RENAMED:1130,PRAMS_DIFF_RECEIVED:1260,ATTRIBUTES_RECEIVED:1200,INSERT_MANY_ITEMS:220,REMOVE_MANY_ITEMS:230,SET_VOLUME:90,PLAY_ITEM:70,PLAY:10,PAUSE:20,PLAY_PREVIOUS:50,PLAY_NEXT:60,STOP:30,SEEK:40,REORDER_PLAYLIST:200}},402:function(e){e.exports=JSON.parse('{"Media Player":"Media Player","Widgets":"Widgets","About":"About","Select Media Player":"Select Media Player","Playlists":"Playlists","Select Widget":"Select Widget","Select Playlist":"Select Playlist","Item Settings":"Item Settings","Label":"Label","Fade in":"Fade in","Pause on start":"Pause on start","Pause on end":"Pause on end","Infinity loop":"Infinity loop","Loops":"Loops","Muted":"Muted","Volume":"Volume","License":"License","Select Folder":"Select Folder","Connected":"Connected","Disconnected":"Disconnected","No widgets":"No widgets","Playback will be stopped":"You are trying to delete the current playing media item. Playback will be stopped. Do you want to proceed?","will be removed!":"will be removed!","Edit":"Edit","Yes":"Yes","No":"No","Save":"Save","New Playlist":"New Playlist"}')},403:function(e){e.exports=JSON.parse('{"Media Player":"\u5a92\u4f53\u64ad\u653e\u5668","Widgets":"\u5c0f\u90e8\u4ef6","About":"\u5927\u7ea6","Select Media Player":"\u9009\u62e9\u5a92\u4f53\u64ad\u653e\u5668","Playlists":"\u64ad\u653e\u6e05\u5355","Select Widget":"\u9009\u62e9\u5c0f\u90e8\u4ef6","Select Playlist":"\u9009\u62e9\u64ad\u653e\u5217\u8868","Item Settings":"\u9879\u76ee\u8bbe\u5b9a","Label":"\u6807\u7b7e","Fade in":"\u6de1\u5165","Pause on start":"\u5f00\u59cb\u65f6\u6682\u505c","Pause on end":"\u6700\u540e\u6682\u505c","Infinity loop":"\u65e0\u9650\u5faa\u73af","Loops":"\u5faa\u73af","Muted":"\u9759\u97f3","Volume":"\u4f53\u79ef","License":"\u6267\u7167","Select Folder":"\u9009\u62e9\u6587\u4ef6\u5939","Disconnected":"\u65ad\u7ebf","Connected":"\u8fde\u63a5\u7684","No widgets":"\u6ca1\u6709\u5c0f\u90e8\u4ef6","Playback will be stopped":"\u60a8\u6b63\u5728\u5c1d\u8bd5\u5220\u9664\u5f53\u524d\u64ad\u653e\u7684\u5a92\u4f53\u9879\u76ee\u3002 \u64ad\u653e\u5c06\u505c\u6b62\u3002 \u60a8\u8981\u7ee7\u7eed\u5417\uff1f","will be removed!":"\u5c06\u88ab\u5220\u9664!","Edit":"\u7f16\u8f91","Yes":"\u662f\u7684","No":"\u4e0d","Save":"\u4fdd\u5b58","New Playlist":"\u65b0\u64ad\u653e\u6e05\u5355"}')},526:function(e,t,a){},724:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(20),r=a(24),o=a(310),l=a(401),s=a(193),d=a(402),u=a(403);o.a.use(l.a).use(s.e).init({lng:localStorage.getItem("SBWebLanguage")||"en",resources:{en:{translation:d},ch:{translation:u}},keySeparator:!1,interpolation:{escapeValue:!1}});o.a,a(524),a(525),a(526);var b=a(5),j=a(443),p=a(793),O=a(783),m=a(730),f=a(12),h=a(233),g=function(e,t,a){var n=e.length-2;return{path:e[0],mediaFilename:Object(h.a)(e[0]),label:e[1],volume:e[3],muted:!!e[4],id:e[2],loops:e[n][0],infinityLoop:!!e[n][1],pauseOnStart:!!e[n][2],pauseOnEnd:!!e[n][3],tagColor:e[5],comment:e[6],fadeIn:+(e[n][6]/1e6).toFixed(1),sourceType:e[8],playlistId:t,index:a}},E=a(39),v=520,x=2030,S=101,y=102,T=201,_=202,I=203,P=204,C=205,w=206,L={REGISTER_RESPONDER:200,RESPONDER_REGISTERED:300,RESPONDER_MESSAGE:320,SEND_TO_RESPONDER:230},M=1e3,N=1200,R=1231,A=1300,D=a(29),k=a.n(D),B=a(404),F=a(10),G=a(235),W=function(e){var t=e.ip,a=e.port,n=e.selectedMP,i=e.dispatchMPStore,c=e.dispatchMLStore,r=e.dispatchMPStatusStore,o=e.dispatchMainStore,l=e.dispatchWidgetsStore,s=null,d=Object(G.a)((function(e){return i({type:F.a.UPDATE_MP_VOLUME,payload:e})}),1e3);if(t&&a){var u=new B.a("ws://".concat(t,":").concat(a));u.onerror=function(e){console.log("WS onerror event",e),o({type:F.a.IS_DISCONNECTED})},u.onclose=function(e){o({type:F.a.IS_DISCONNECTED}),console.log("Socket is closed. Code: ".concat(e.code,", reason: ").concat(e.reason,"."))},u.onopen=function(){console.log("WS connected to ".concat(t,":").concat(a)),l({type:F.a.CLEAN_REGISTERED_PARAMS}),o({type:F.a.IS_CONNECTED}),o({type:F.a.SET_IP_PORT,payload:{ip:t,port:a}}),i({type:F.a.SET_WS,payload:u}),l({type:F.a.SET_WS,payload:u});var e=JSON.stringify([L.REGISTER_RESPONDER,"Root"]);u.send(e);var n=JSON.stringify(["Root/".concat(M)]);u.send(n),u.send(JSON.stringify({id:S}))},u.onmessage=function(e){var t=JSON.parse(e.data),a=k.a.parse(window.location.search).page;if(t.id)switch(t.id){case T:l({type:F.a.SET_WIDGETS_XML,payload:t.xml});break;case S:l({type:F.a.SET_WIDGETS_LIST,payload:t});break;case y:u.send(JSON.stringify({id:S}));break;case w:l({type:F.a.UPDATE_REACT_WIDGET_TREE});break;case C:l({type:F.a.SET_COMBO_LIST,payload:t.parameters});break;case P:"widgets"===a&&l({type:F.a.SERVER_VALUE_CHANGED,payload:t.parameters})}else{var j=t.shift(),p=t.shift(),O=t.shift();switch(j){case L.RESPONDER_REGISTERED:console.log("Responder registered: ".concat(t.shift()));break;case L.RESPONDER_MESSAGE:if("Root"===p)switch(O){case N:l({type:F.a.NODES_PARAMS,payload:t});var m=t.shift();console.log("Received ".concat(m," nodes:"));for(var f=[],h=[],_=0;_<m;_++){var I=t.shift(),M=t.shift(),D={type:I,label:M,value:M},B=t.shift();"MediaPlayer"===D.type&&(D.volume=t.find((function(e){return e.includes("Volume")}))[4][1]);for(var G=0;G<B;G++)t.shift();f.push(D)}f.forEach((function(e){"MediaPlayer"===e.type&&h.push(e)}));var W=h.find((function(e){return e.label===k.a.parse(window.location.search).MP}));if(s=n||W||h[0]){var Y=JSON.stringify([L.REGISTER_RESPONDER,s.label]);u.send(Y);var H=JSON.stringify(["".concat(s.label,"/").concat(E.a.GET_ROOT_GROOP)]);u.send(H),i({type:F.a.SET_MEDIA_PLAYERS,payload:{mediaPlayers:h,selectedMP:s}})}var z=JSON.stringify([L.REGISTER_RESPONDER,"ContentManager"]);u.send(z),u.send(JSON.stringify(["$ContentManager/2"]));break;case A:o({type:F.a.SHOW_LOG_MSG,payload:t});break;case R:i({type:F.a.RENAME_MEDIA_PLAYERS,payload:t});break;case E.a.PRAMS_DIFF_RECEIVED:1===t[0]&&"Volume"===t[2]?d(t):l({type:F.a.PRAMS_DIFF,payload:t})}else if(p==="Root/".concat(s.label))switch(O){case E.a.ROOT_GROOP_RECEIVED:!function e(t){var a=t.shift(),n=t.shift(),c=t.shift(),r={id:a,type:n,label:c,value:a+c,playlist:null,children:[]};switch(r.type){case 0:for(var o=t.shift(),l=0;l<o;l++){var s,d=e(t.shift());(null===(s=d.playlist)||void 0===s?void 0:s.type)||r.children.push(d)}break;case 1:r.playlist={items:[],type:null};for(var u=t.shift(),b=u.shift(),j=0;j<b;j++)r.playlist.items.push(g(u.shift(),r.id,j));r.playlist.type=u.shift(),r.children=null}return"RootGroup"===r.label&&i({type:F.a.FIRST_SET_PLAYLISTS,payload:r.children}),r}(t[0]);break;case E.a.PLAYLIST_RENAMED:i({type:F.a.RENAME_PLAYLIST,payload:t});break;case E.a.STATUS_RECEIVED:if("media-player"!==a)break;i({type:F.a.SET_STATUS,payload:{currentPlayingPlaylistId:t[1],currentPlayingItemId:t[8],statusTransportControl:t[0]}}),r({type:F.a.SET_STATUS,payload:{currentPlayingProgress:t[3]}});break;case E.a.MEDIA_ITEM_REMOVED:i({type:F.a.DELETE_PLAYLIST,payload:t[0]});break;case E.a.UPDATE_MEDIA_ITEMS_RECEIVED:var U=t[1].slice(1,t[1][0]+1).map((function(e,a){return Object(b.a)({},g(e,t[0],a))}));i({type:F.a.UPDATE_MEDIA_ITEMS,payload:{playlistId:t[0],items:U}});break;case E.a.UPDATE_PLAYLISTS_RECEIVED:i({type:F.a.UPDATE_PLAYLISTS,payload:{goupId:t[0],id:t[2][0],type:t[2][1],label:t[2][2],value:t[2][0]+t[2][2],playlist:{}}})}else if(p.includes("ContentManager"))switch(O){case v:c({type:F.a.SET_ML_LISTS,payload:t}),i({type:F.a.SET_ITEMS_TIME,payload:t});break;case x:u.send(JSON.stringify(["$ContentManager/2"]))}break;default:console.log("Unknown listener command ".concat(j,":"))}}}}},Y=function(){var e=Object(r.d)(),t=Object(f.a)(e,2),a=t[0],i=a.ws,c=a.selectedMP,o=t[1],l=Object(r.e)(),s=Object(f.a)(l,2)[1],d=Object(r.c)(),u=Object(f.a)(d,2)[1],b=Object(r.b)(),j=Object(f.a)(b,2)[1],p=Object(r.f)(),O=Object(f.a)(p,2)[1],m=k.a.parse(window.location.search),h=m.serverIp,g=m.serverPort,E=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}(c);Object(n.useEffect)((function(){c&&!E||(i&&(i.close(),o({type:F.a.CLOSE_WS_CONNECT}),O({type:F.a.CLOSE_WS_CONNECT})),W({ip:h||window.location.hostname,port:g||window.location.port,selectedMP:c,dispatchMPStore:o,dispatchMPStatusStore:u,dispatchMainStore:s,dispatchMLStore:j,dispatchWidgetsStore:O}))}),[null===c||void 0===c?void 0:c.label])},H=a(264),z=a(32),U=a(448),V=a(789),J=a(777),X=a(795),K=a(790),$=a(257),q=a.n($),Q=a(256),Z=a.n(Q),ee=a(725),te=a(50),ae=a(326),ne=a(194),ie=a(44),ce=(a(538),a(767)),re=a(243),oe=a.n(re),le=a(93),se=a(761),de=a(324),ue=a(728),be=a(762),je=a(763),pe=a(764),Oe=a(765),me=a(804),fe=a(146),he=a(768),ge=a(769),Ee=a(770),ve=a(771),xe=a(772),Se=a(408),ye=a.n(Se),Te=function(e,t){return Object(n.useCallback)((function(a){t&&1===a.detail&&t(a),a.detail%2===0&&e(a)}),[t,e])},_e=function(e){var t=+e,a=Math.floor(t/3600),n=Math.floor(t%3600/60),i=Math.floor(t%3600%60),c=a>0?"".concat(a,":"):"";return i=i>0&&i<10?"0".concat(i):i?"".concat(i):"00",c+(n=n>0&&n<10?"0".concat(n,":"):n?"".concat(n,":"):"00:")+i},Ie="".concat(".","/assets/icons"),Pe=a(172),Ce=a(803),we=0,Le=1,Me=2,Ne=-1,Re=0,Ae=1,De=2,ke=3,Be=function(e,t,a){return"http://".concat(e,":").concat(t,"/serverImageFile?pathImg=").concat(a,"/preview.jpg")},Fe=function(e){var t=e.sourceType,a=e.ip,n=e.port,i=e.path;return t===Re?Be(a,n,i):t===Ne?"".concat(Ie,"/corrupted.png"):t===ke?"".concat(Ie,"/aux_image.png"):t===Ae?"".concat(Ie,"/loopStart.png"):t===De?"".concat(Ie,"/loopEnd.png"):void 0},Ge=a(236),We=a(3),Ye=Object(ee.a)((function(e){return{itemBtn:function(t){return{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),display:"flex",justifyContent:"center",width:t.ITEM_WIDTH-4}},itemName:{fontSize:"12px !important",overflow:"hidden",textOverflow:"ellipsis",display:"webkit-box",webKitLineClamp:3,webKitBoxOrient:"vertical",lineHeight:"20px !important",whiteSpace:"nowrap",width:"100%",textAlign:"center"},selected:{backgroundColor:"".concat(e.palette.secondary.main," !important")},CardContent:{padding:e.spacing(.5),display:"flex",justifyContent:"space-between",alignItems:"center"},item:function(t){return{listStyleType:"none",padding:0,borderWidth:"2px",borderStyle:"solid",position:"relative",borderColor:t.isSelected?e.palette.primary.main:"transparent",height:"max-content"}},itemIcon:{width:15,height:15},previewImg:function(e){return{width:e.ITEM_WIDTH-18,height:e.ITEM_HEIGHT-48,objectFit:"fill"}},itemIconContainer:{display:"flex",alignItems:"center",width:"100%",height:20,paddingLeft:e.spacing(1),paddingRight:e.spacing(1),paddingTop:e.spacing(.3),paddingBottom:e.spacing(.3),position:"absolute",zIndex:10,backgroundColor:e.palette.primary.darkTransparentBtn},addBtn:{position:"absolute",zIndex:1e3,bottom:-2,right:-2,width:25,height:25,minHeight:0,backgroundColor:e.palette.primary.darkTransparentBtn,boxShadow:"none"},addIcon:{fontSize:"17px",color:"#fff"},removeBtn:{zIndex:100,position:"absolute",top:-2,left:-2,color:"#d90c0c",padding:0},removeIcon:{width:24,height:24},statusIconContainer:{backgroundColor:e.palette.secondary.main,padding:e.spacing(.13)},iconWrapper:{display:"flex",alignItems:"center"},loopsContainer:{position:"absolute",right:"calc(50% - 7)px",bottom:0},timeAmount:{position:"absolute !important",right:"5px !important",bottom:"25px !important",backgroundColor:"#000 !important",padding:"0 2px !important"}}})),He=Object(Ge.b)(Object(n.memo)((function(e){var t=e.data,a=e.item,i=e.key,c=e.style,r=t.ip,o=t.handleClickEditBtn,l=t.port,s=t.editMode,d=t.ITEM_HEIGHT,u=t.ITEM_WIDTH,b=t.MPGridColumns,j=t.selectedItem,p=t.currentPlayingItemId,O=t.isCurrentPlayingPlaylist,m=t.handleClickItem,h=t.handleDoubleClick,g=t.handleRemoveItem,E=t.statusTransportControl,v=a.id,x=a.path,S=a.index,y=a.timeAmount,T=a.label,_=a.sourceType,I=a.mediaFilename,P=a.isImage,C=a.pauseOnStart,w=a.pauseOnEnd,L=a.loops,M=a.fadeIn,N=a.infinityLoop,R=a.hasAudio,A=Object(n.useState)(!1),D=Object(f.a)(A,2),k=D[0],B=D[1],F=Object(Ce.a)().t,G=T||I,W=p===v&&O,Y=Ye({isSelected:(null===j||void 0===j?void 0:j.id)===v,ITEM_WIDTH:u,MPGridColumns:b,ITEM_HEIGHT:d}),H=_===ke||_===Re,z=Te(h,(function(){return m(a,H)})),V=function(){return B(!1)};return Object(We.jsxs)("div",{onClick:z,className:Y.item,style:c,children:[s&&Object(We.jsx)(de.a,{className:Y.removeBtn,onClick:function(){return B(!0)},children:Object(We.jsx)(ye.a,{className:Y.removeIcon})}),Object(We.jsx)(ue.a,{classes:{selected:Y.selected},className:Y.itemBtn,selected:W,children:Object(We.jsx)(se.a,{children:Object(We.jsxs)(be.a,{children:[Object(We.jsxs)(U.a,{position:"relative",children:[H&&Object(We.jsxs)(U.a,{lineHeight:0,className:Y.itemIconContainer,top:0,children:[Object(We.jsx)(U.a,{flexBasis:"33%",children:P?Object(We.jsx)("img",{className:Y.itemIcon,src:"".concat(Ie,"/image.png"),alt:"imageIcon"}):Object(We.jsx)("img",{className:Y.itemIcon,src:"".concat(Ie,"/video.png"),alt:"video"})}),Object(We.jsxs)(U.a,{flexBasis:"33%",display:"flex",justifyContent:"center",children:[W&&E===we&&Object(We.jsx)(je.a,{in:!0,className:Y.statusIconContainer,children:Object(We.jsx)("img",{src:"".concat(Ie,"/stop.png"),alt:"stop"})}),W&&E===Le&&Object(We.jsx)(je.a,{in:!0,className:Y.statusIconContainer,children:Object(We.jsx)("img",{src:"".concat(Ie,"/play.png"),alt:"play"})}),W&&E===Me&&Object(We.jsx)(je.a,{in:!0,className:Y.statusIconContainer,children:Object(We.jsx)("img",{src:"".concat(Ie,"/pause.png"),alt:"pause"})})]}),Object(We.jsx)(U.a,{flexBasis:"34%",display:"flex",justifyContent:"flex-end",children:R&&Object(We.jsx)("img",{className:Y.itemIcon,src:"".concat(Ie,"/audio.png"),alt:"audio"})})]}),Object(We.jsx)(pe.a,{component:"img",alt:G,onError:function(e){return e.target.src="".concat(Ie,"/noPreview.png")},className:Y.previewImg,image:Fe({sourceType:_,ip:r,port:l,path:x})}),H&&Object(We.jsxs)(U.a,{className:Y.itemIconContainer,right:0,bottom:0,children:[Object(We.jsx)(U.a,{flexBasis:"33%",children:Object(We.jsx)(je.a,{in:!!M,children:Object(We.jsxs)(U.a,{className:Y.iconWrapper,children:[Object(We.jsx)("img",{className:Y.itemIcon,src:"".concat(Ie,"/fadeIn.png"),alt:"fadeIn"}),Object(We.jsxs)(U.a,{ml:.5,children:[M,"s"]})]})})}),Object(We.jsx)(U.a,{flexBasis:"33%",display:"flex",justifyContent:"center",children:Object(We.jsx)(je.a,{in:L>1||N,children:Object(We.jsxs)(U.a,{className:Y.iconWrapper,children:[Object(We.jsx)("img",{className:Y.itemIcon,src:"".concat(Ie,"/loop.png"),alt:"loop"}),Object(We.jsx)(U.a,{ml:.5,children:!N&&L>1&&L})]})})}),Object(We.jsxs)(U.a,{flexBasis:"34%",display:"flex",justifyContent:"flex-end",children:[C&&!w&&Object(We.jsx)(je.a,{in:!0,children:Object(We.jsx)("img",{className:Y.itemIcon,src:"".concat(Ie,"/pauseOnStart.png"),alt:"pauseOnStart"})}),w&&!C&&Object(We.jsx)(je.a,{in:!0,children:Object(We.jsx)("img",{className:Y.itemIcon,src:"".concat(Ie,"/pauseOnEnd.png"),alt:"pauseOnEnd"})}),w&&C&&Object(We.jsx)(je.a,{in:!0,children:Object(We.jsx)("img",{className:Y.itemIcon,src:"".concat(Ie,"/pauseOnStartEnd.png"),alt:"pauseOnStartEnd"})})]}),Object(We.jsx)(U.a,{className:Y.timeAmount,children:_e(y)})]})]}),Object(We.jsx)(Oe.a,{className:Y.CardContent,children:Object(We.jsx)(me.a,{TransitionComponent:je.a,title:G||"",children:Object(We.jsx)(fe.a,{className:Y.itemName,color:"textSecondary",component:"h6",children:G})})})]})})}),s&&Object(We.jsx)(ce.a,{variant:"round",className:Y.addBtn,color:"primary",onClick:o,children:Object(We.jsx)(oe.a,{className:Y.addIcon})}),Object(We.jsxs)(he.a,{open:k,onClose:V,children:[Object(We.jsx)(ge.a,{children:Object(We.jsx)(Ee.a,{children:W?F("Playback will be stopped"):'"'.concat(G,'" ').concat(F("will be removed!"))})}),Object(We.jsxs)(ve.a,{children:[Object(We.jsx)(xe.a,{onClick:function(){g(S),B(!1)},variant:"contained",color:"primary",autoFocus:!0,size:"small",children:F("Yes")}),Object(We.jsx)(xe.a,{onClick:V,size:"small",variant:"contained",color:"primary",children:F("No")})]})]})]},i)}),Pe.b)),ze=a(327),Ue=a(447),Ve=a(446),Je=a(778),Xe=a(802),Ke=Object(ee.a)((function(e){return{TreePicker:{width:"65vw",marginBottom:e.spacing(1)}}})),$e=function(){var e=Ke(),t=Object(r.b)(),a=Object(f.a)(t,2),n=a[0],i=n.MLFoldersTree,c=n.selectedFolder,o=a[1],l=Object(Ce.a)().t;return Object(We.jsx)(Xe.a,{value:null===c||void 0===c?void 0:c.value,data:i,defaultExpandAll:!0,onSelect:function(e){return o({type:F.a.SET_SELECTED_ML_LIST,payload:e})},className:e.TreePicker,placeholder:l("Select Folder")})},qe=a(419),Qe=Object(ee.a)((function(e){return{file:function(t){return{listStyleType:"none",height:"max-content",padding:e.spacing(1),display:"flex",justifyContent:"center",width:t.FILE_WIDTH}},fileName:{fontSize:"12px",overflow:"hidden",textOverflow:"ellipsis",display:"webkit-box",webKitLineClamp:3,webKitBoxOrient:"vertical",lineHeight:"20px",whiteSpace:"nowrap"},selected:{backgroundColor:"".concat(e.palette.primary.main," !important")},previewImg:function(e){var t=e.FILE_HEIGHT,a=e.FILE_WIDTH;return{backgroundImage:"url(".concat(Ie,"/noPreview.png)"),width:a-16,height:t-44}},CardContent:{padding:e.spacing(.5)}}})),Ze=Object(n.memo)((function(e){var t=e.columnIndex,a=e.rowIndex,n=e.style,i=e.data,c=i.mediaFiles,r=i.ip,o=i.port,l=i.isMobile,s=i.FILE_WIDTH,d=i.FILE_HEIGHT,u=i.selectedFiles,b=i.handleClick,j=Qe({FILE_WIDTH:s,FILE_HEIGHT:d}),p=l?a:t+4*a,O=c[p]||{},m=O.path,f=O.id,h=O.fileName;return Object(We.jsx)(We.Fragment,{children:O&&p<c.length&&Object(We.jsx)(ue.a,{classes:{selected:j.selected},button:!0,style:n,className:j.file,onClick:function(){return b(O)},selected:u.some((function(e){return e.id===f})),children:Object(We.jsx)(se.a,{children:Object(We.jsxs)(be.a,{children:[Object(We.jsx)(pe.a,{component:"img",className:j.previewImg,onError:function(e){e.target.src="".concat(Ie,"/noPreview.png")},image:"http://".concat(r,":").concat(o,"/serverImageFile?pathImg=").concat(m,"/preview.jpg")}),Object(We.jsx)(Oe.a,{className:j.CardContent,children:Object(We.jsx)(me.a,{title:h,children:Object(We.jsx)(fe.a,{className:j.fileName,variant:"p",color:"textSecondary",component:"p",children:h})})})]})})},f)})}),Pe.b),et=a(252),tt=function(){var e=Object(r.e)(),t=Object(f.a)(e,1)[0],a=t.ip,n=t.port,i=Object(r.b)(),c=Object(f.a)(i,2),o=c[0],l=o.selectedFolder.mediaFiles,s=void 0===l?null:l,d=o.selectedFiles,u=c[1],b=Object(m.a)("(max-width:600px)"),j=Object(et.useScrollbarSize)().width,p=function(e){var t=d.findIndex((function(t){return t.id===e.id})),a=Object(ie.a)(d);-1===t?a.push(e):a.splice(t,1),u({type:F.a.SET_SELECTED_FILES,payload:a})};return Object(We.jsx)(We.Fragment,{children:s&&Object(We.jsx)(qe.a,{children:function(e){var t=e.height,i=e.width,c=b?i:(i-j)/4,r=function(e,t,a,n){var i=Math.max(Math.floor(e/t),1);return Math.ceil(a/i)+(n?1:0)}(i,c,s.length),o={mediaFiles:s,ip:a,port:n,isMobile:b,FILE_WIDTH:c,FILE_HEIGHT:192,selectedFiles:d,handleClick:p};return Object(We.jsx)(Pe.a,{columnCount:b?1:4,columnWidth:b?i:i/4,rowCount:r,rowHeight:192,overscanRowCount:3,height:t,width:i,itemData:o,children:Ze})}})})},at=Object(ee.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},rootPaper:Object(z.a)({display:"flex",flexDirection:"column",alignItems:"center",height:"85vh",width:"85vw",backgroundColor:e.palette.background.paper,border:"2px solid ".concat(e.palette.primary.main),boxShadow:e.shadows[5],outline:"none",padding:e.spacing(1)},e.breakpoints.up("sm"),{width:"90vw"}),mediaFileListPaper:{width:"100%",height:"80vh"},appBar:{top:"auto",bottom:0},grow:{flexGrow:1},fabButton:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"}}})),nt=function(e){var t=e.setOpenModal,a=at(),n=Object(r.d)(),i=Object(f.a)(n,1)[0],c=i.ws,o=i.selectedMP,l=i.selectedItem,s=i.selectedPlaylist,d=Object(r.b)(),u=Object(f.a)(d,2),b=u[0].selectedFiles,j=u[1];return Object(We.jsx)(ze.a,{className:a.modal,open:!0,onClose:function(){t(!1),j({type:F.a.SET_SELECTED_FILES,payload:[]})},closeAfterTransition:!0,BackdropComponent:Ue.a,onClick:function(e){return e.stopPropagation()},children:Object(We.jsx)(Ve.a,{in:!0,children:Object(We.jsxs)(We.Fragment,{children:[Object(We.jsxs)("div",{className:a.rootPaper,children:[Object(We.jsx)($e,{}),Object(We.jsx)(ne.a,{elevation:3,className:a.mediaFileListPaper,children:Object(We.jsx)(tt,{})})]}),Object(We.jsx)(J.a,{position:"fixed",color:"primary",className:a.appBar,children:Object(We.jsxs)(Je.a,{children:[Object(We.jsx)(ce.a,{onClick:function(){if(c){t(!1);var e=b.map((function(e){return[e.path,"",0,1.001,0,1,"",[0],0,"",0,0,0,0,0,0,0,-1,0,[1,0,0,0,0,0,0,0,0,0,0]]}));c.send(JSON.stringify([L.SEND_TO_RESPONDER,"Root/".concat(o.label),E.a.INSERT_MANY_ITEMS,s.id,l?l.index+1:1e4,e.length].concat(Object(ie.a)(e)))),j({type:F.a.SET_SELECTED_FILES,payload:[]})}},color:"secondary","aria-label":"add",className:a.fabButton,children:"Add"}),Object(We.jsx)("div",{className:a.grow})]})})]})})})},it=a(322),ct=a(421),rt=a.n(ct),ot=Object(ee.a)((function(e){return{container:{flex:1,"& *":{outline:"none"}},grid:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},editBtn:Object(z.a)({position:"absolute",bottom:0,right:20},e.breakpoints.up("md"),{bottom:20,right:30}),lastAddBtn:{margin:e.spacing(2),backgroundColor:e.palette.primary.darkTransparentBtn,color:"#fff"}}})),lt=Object(Ge.a)((function(e){return Object(We.jsx)(it.b,Object(b.a)(Object(b.a)({},e),{},{cellRenderer:function(t){var a=t.columnIndex,n=t.key,i=t.rowIndex,c=t.style,r=e.data,o=r.isMobile,l=r.MPGridColumns,s=e.items,d=o?i:a+i*l;if(d>=s.length)return null;var u=s[d]||{};return Object(We.jsx)(He,{item:u,index:d,data:e.data,style:c},n)}}))})),st=function(e){var t=e.component,a=e.data.items,i=e.useDragHandle,c=e.reorderPlaylist,r=Object(n.useState)([]),o=Object(f.a)(r,2),l=o[0],s=o[1];Object(n.useEffect)((function(){s(a)}),[a]);var d={items:l,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex;if(t!==n){var i=rt()(a,t,n);c(i.map((function(e){return e.index}))),s(i)}},useDragHandle:i};return Object(We.jsx)(t,Object(b.a)(Object(b.a)({},e),d))},dt=function(){var e=Object(r.d)(),t=Object(f.a)(e,2),a=t[0],i=a.ws,c=a.playlists,o=a.statusTransportControl,l=a.isCurrentPlayingPlaylist,s=a.selectedMP,d=a.MPGridColumns,u=a.currentPlayingItemId,b=a.selectedItem,j=a.selectedPlaylist,p=t[1],O=ot({MPGridColumns:d}),h=Object(r.e)(),g=Object(f.a)(h,1)[0],v=g.ip,x=g.port,S=Object(n.useState)(!1),y=Object(f.a)(S,2),T=y[0],_=y[1],I=Object(n.useState)(null),P=Object(f.a)(I,2),C=P[0],w=P[1],L=Object(m.a)("(max-width:600px)"),M=Object(Ce.a)().t,N=Object(et.useScrollbarSize)().width,R=function(){return p({type:F.a.SET_OPEN_MP_SIDE_BAR,payload:{openMobileMPSideBar:!0,openMPSideBar:!0}})},A=function(e){_(!0),p({type:F.a.SET_SELECTED_ITEM,payload:e})},D=function(e,t){t&&p({type:F.a.SET_SELECTED_ITEM,payload:e})},k=function(e){i&&i.send(JSON.stringify(["".concat(s.label,"/").concat(E.a.REMOVE_MANY_ITEMS),j.id,1,e]))},B=function(e){i&&i.send(JSON.stringify(["".concat(s.label,"/").concat(E.a.REORDER_PLAYLIST),j.id].concat(Object(ie.a)(e))))},G=Object(n.useMemo)((function(){var e,t;if(null===j||void 0===j?void 0:j.type)return null===(e=Object(le.a)(c,(function(e,t,a){if("id"===t&&e===j.id&&1===a.type)return!0})))||void 0===e||null===(t=e.parent.playlist)||void 0===t?void 0:t.items}),[c,null===j||void 0===j?void 0:j.id]);return Object(We.jsxs)("div",{className:O.container,children:[(null===j||void 0===j?void 0:j.type)&&!(null===G||void 0===G?void 0:G.length)?Object(We.jsx)(U.a,{m:2,children:Object(We.jsx)(ce.a,{variant:"round",size:"large",className:O.lastAddBtn,color:"primary",onClick:function(){return _(!0)},children:Object(We.jsx)(oe.a,{})})}):null,G&&i&&Object(We.jsx)(it.a,{children:function(e){var t=e.height,a=e.width,n=L?a:(a-N)/d,i=L?230:n,c=function(e,t,a,n){var i=Math.max(Math.floor(e/t),1);return Math.ceil(a/i)+(n?1:0)}(a,n,G.length),r={items:G,handleClickItem:D,handleClickEditBtn:A,handleDoubleClick:R,currentPlayingItemId:u,selectedItem:b,ip:v,port:x,editMode:C,isCurrentPlayingPlaylist:l,isMobile:L,MPGridColumns:d,ITEM_WIDTH:n,ITEM_HEIGHT:i,handleRemoveItem:k,statusTransportControl:o};return Object(We.jsxs)(We.Fragment,{children:[Object(We.jsx)(st,{axis:"xy",component:lt,data:r,rowCount:c,height:t,width:a,columnCount:L?1:d,className:O.grid,columnWidth:n,rowHeight:i,distance:1,useDragHandle:!C,reorderPlaylist:B,overscanRowCount:3}),Object(We.jsx)(ce.a,{className:O.editBtn,onClick:function(){return w((function(e){return!e}))},color:"primary",variant:"round",children:M("Edit")})]})}}),T&&Object(We.jsx)(nt,{setOpenModal:_})]})},ut=a(735),bt=Object(ee.a)((function(e){return{Slider:{display:"block",margin:"0 auto",width:"90%",paddingBottom:e.spacing(1)},timer:{textAlign:"center",lineHeight:1}}})),jt=function(){var e=bt(),t=Object(r.c)(),a=Object(f.a)(t,1)[0].currentPlayingProgress,i=Object(r.d)(),c=Object(f.a)(i,1)[0],o=c.ws,l=c.selectedMP,s=c.selectedPlaylist,d=c.currentPlayingItem,u=(d=void 0===d?{timeAmount:0,fps:0}:d).timeAmount,b=d.fps,j=Object(n.useState)(null),p=Object(f.a)(j,2),O=p[0],m=p[1],h=Object(n.useState)(0),g=Object(f.a)(h,2),v=g[0],x=g[1],S=+(u*a).toFixed(10);Object(n.useEffect)((function(){O||x(S)}),[S]);return Object(We.jsxs)(We.Fragment,{children:[Object(We.jsx)(ut.a,{className:e.Slider,disabled:!s,value:v,min:0,max:u,getAriaLabelText:_e,valueLabelFormat:_e,onChange:function(e,t){m(!0),x(+t)},onChangeCommitted:function(e,t){o&&(o.send(JSON.stringify(["".concat(l.label,"/").concat(E.a.SEEK),+(t*b).toFixed()])),setTimeout((function(){return m(!1)}),100))},valueLabelDisplay:"auto"}),Object(We.jsx)("p",{className:e.timer,children:o&&s?"".concat(_e(u),"/").concat(_e(S)):"00:00/00:00"})]})},pt=a(321),Ot=a.n(pt),mt=a(431),ft=a.n(mt),ht=a(320),gt=a.n(ht),Et=a(430),vt=a.n(Et),xt=a(432),St=a.n(xt),yt=a(433),Tt=a.n(yt),_t=a(388),It=a(732),Pt=a(255),Ct=a.n(Pt),wt=Object(ee.a)((function(e){return{icon:{height:35,width:35},iconBtn:Object(z.a)({},e.breakpoints.down("sm"),{padding:0}),Popover:{overflow:"hidden"}}})),Lt=function(e){var t=e.selectedMP,a=e.ws,i=e.selectedPlaylist,c=wt(),r=Object(n.useState)(100),o=Object(f.a)(r,2),l=o[0],s=o[1],d=Object(n.useState)(null),u=Object(f.a)(d,2),b=u[0],j=u[1],p=Boolean(b),O=p?"simple-popover":void 0;return Object(n.useEffect)((function(){s(100*(null===t||void 0===t?void 0:t.volume))}),[t]),Object(We.jsxs)("div",{className:c.volumeContainer,children:[Object(We.jsx)(de.a,{disabled:!i,id:O,className:c.iconBtn,style:{width:"fit-content"},onClick:function(e){return j(e.currentTarget)},children:Object(We.jsx)(Ct.a,{className:c.icon})}),Object(We.jsx)(It.a,{id:O,open:p,anchorEl:b,classes:{root:c.Popover},onClose:function(){return j(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:Object(We.jsx)(U.a,{py:2.5,px:1,overflow:"hidden",height:"17vh",children:Object(We.jsx)(ut.a,{orientation:"vertical",disabled:!i,value:l,onChange:function(e,n){s(n),a&&a.send(JSON.stringify(["".concat(t.label,"/").concat(E.a.SET_VOLUME),n/100+.001]))}})})})]})},Mt=Object(ee.a)((function(e){return{mediaFilesListContainer:{flex:1,"& *":{outline:"none"}},content:{flex:"1 0 auto",textAlign:"center"},controls:{display:"flex",alignItems:"center",justifyContent:"center"},icon:{height:35,width:35},iconBtn:Object(z.a)({},e.breakpoints.down("sm"),{padding:0})}})),Nt=function(){var e=Mt(),t=Object(r.d)(),a=Object(f.a)(t,1)[0],n=a.ws,i=a.selectedMP,c=a.selectedPlaylist,o=a.selectedItem,l=a.statusTransportControl,s=Object(te.a)();return Object(We.jsxs)(ae.a,{container:!0,spacing:1,justify:"space-between",alignItems:"center",children:[Object(We.jsx)(ae.a,{item:!0,xs:11,sm:8,children:Object(We.jsxs)(ae.a,{container:!0,justify:"space-around",alignItems:"center",spacing:3,children:[Object(We.jsx)(ae.a,{item:!0,xs:1,children:Object(We.jsx)(de.a,{disabled:!c,className:e.iconBtn,onClick:function(){n&&o&&c&&n.send(JSON.stringify(["".concat(i.label,"/").concat(E.a.PLAY_ITEM),c.id,o.index]))},children:Object(We.jsx)(vt.a,{className:e.icon})})}),Object(We.jsx)(ae.a,{item:!0,xs:1,children:Object(We.jsx)(de.a,{disabled:!c,color:l===Le?"primary":"default",className:e.iconBtn,onClick:function(){n&&n.send(JSON.stringify(["".concat(i.label,"/").concat(E.a.PLAY)]))},children:Object(We.jsx)(ft.a,{className:e.icon})})}),Object(We.jsx)(ae.a,{item:!0,xs:1,children:Object(We.jsx)(de.a,{disabled:!c,color:l===Me?"primary":"default",className:e.iconBtn,onClick:function(){n&&n.send(JSON.stringify(["".concat(i.label,"/").concat(E.a.PAUSE)]))},children:Object(We.jsx)(St.a,{className:e.icon})})}),Object(We.jsx)(ae.a,{item:!0,xs:1,children:Object(We.jsx)(de.a,{disabled:!c,color:l===we?"primary":"default",className:e.iconBtn,onClick:function(){n&&n.send(JSON.stringify(["".concat(i.label,"/").concat(E.a.STOP)]))},children:Object(We.jsx)(Tt.a,{className:e.icon})})}),Object(We.jsx)(ae.a,{item:!0,xs:1,children:Object(We.jsx)(de.a,{disabled:!c,className:e.iconBtn,onClick:function(){n&&n.send(JSON.stringify(["".concat(i.label,"/").concat(E.a.PLAY_PREVIOUS)]))},children:"rtl"===s.direction?Object(We.jsx)(gt.a,{className:e.icon}):Object(We.jsx)(Ot.a,{className:e.icon})})}),Object(We.jsx)(ae.a,{item:!0,xs:1,children:Object(We.jsx)(de.a,{disabled:!c,className:e.iconBtn,onClick:function(){n&&n.send(JSON.stringify(["".concat(i.label,"/").concat(E.a.PLAY_NEXT)]))},children:"rtl"===s.direction?Object(We.jsx)(Ot.a,{className:e.icon}):Object(We.jsx)(gt.a,{className:e.icon})})}),Object(We.jsx)(ae.a,{className:e.iconBtn,item:!0,xs:3,children:Object(We.jsx)(Lt,{ws:n,selectedMP:i,selectedPlaylist:c})})]})}),Object(We.jsx)(ae.a,{item:!0,xs:1,sm:2,children:Object(We.jsx)(_t.a,{})})]})},Rt=Object(ee.a)((function(e){return{root:Object(z.a)({display:"flex",flexDirection:"column",paddingBottom:e.spacing(1),height:"100%"},e.breakpoints.up("lg"),{height:"calc(100vh - 80px)"})}})),At=Object(n.memo)((function(){var e=Rt();return Object(We.jsxs)(ne.a,{className:e.root,children:[Object(We.jsx)(dt,{}),Object(We.jsx)(jt,{}),Object(We.jsx)(Nt,{})]})})),Dt=a(731),kt=a(271),Bt=a(270),Ft=a(261),Gt=function(e){var t=e.openMPSideBar;return Object(We.jsx)(Dt.a,{direction:"left",in:t,children:Object(We.jsxs)(U.a,{height:"100%",display:"flex",flexDirection:"column",children:[Object(We.jsx)(kt.a,{}),Object(We.jsx)(Bt.a,{}),Object(We.jsx)(Ft.a,{})]})})},Wt=Object(ee.a)((function(e){var t;return{container:(t={},Object(z.a)(t,e.breakpoints.up("lg"),{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}),Object(z.a)(t,e.breakpoints.between("sm","md"),{padding:e.spacing(1)}),Object(z.a)(t,"height","100%"),Object(z.a)(t,"overflow","hidden"),t),MPSideBar:Object(z.a)({display:"none"},e.breakpoints.up("md"),{display:"block"}),item:Object(z.a)({},e.breakpoints.down("md"),{height:"calc(100% - 40px)"})}})),Yt=function(){var e=Wt(),t=Object(r.d)(),a=Object(f.a)(t,1)[0].openMPSideBar;return Object(n.useMemo)((function(){return Object(We.jsxs)(ae.a,{justify:"space-between",alignItems:"stretch",container:!0,spacing:1,className:e.container,children:[Object(We.jsx)(ae.a,{className:e.item,item:!0,xs:12,md:a?9:12,children:Object(We.jsx)(At,{})}),Object(We.jsx)(ae.a,{className:"".concat(e.MPSideBar," ").concat(e.item),item:!0,md:3,children:Object(We.jsx)(Gt,{openMPSideBar:a})})]})}),[a,e])},Ht=a(798),zt=a(55),Ut=a(81),Vt=Object(ee.a)((function(e){var t;return{SelectPicker:(t={width:"70%",marginBottom:e.spacing(1)},Object(z.a)(t,e.breakpoints.down("sm"),{margin:e.spacing(1)}),Object(z.a)(t,e.breakpoints.up("sm"),{width:"40%"}),t)}})),Jt=function(){var e=Vt(),t=Object(r.f)(),a=Object(f.a)(t,2),i=a[0],c=i.widgetsList,o=i.ws,l=i.selectedWidget,s=i.widgetsURL,d=a[1],u=Object(Ce.a)().t,b=Object(zt.e)(),j=k.a.parse(window.location.search).page;Object(n.useEffect)((function(){if(o&&c.length){var e=c.findIndex((function(e){return e.value===l}));o.send(JSON.stringify({id:T,wizardURL:[s[e]]}))}}),[o,c,l]),Object(n.useEffect)((function(){if("widgets"===j&&l)Object(Ut.a)({page:j,history:b,params:{widget:l}});else{var e=k.a.parse(window.location.search).widget;if(c.length&&l!==e&&"widgets"===j){var t,a=c.find((function(t){return t.value===e}));if(e&&a)d({type:F.a.SET_SELECTED_WIDGET,payload:e});else d({type:F.a.SET_SELECTED_WIDGET,payload:c[0].value}),Object(Ut.a)({page:j,history:b,params:{widget:null===(t=c[0])||void 0===t?void 0:t.value}})}}}),[c,j,l]);return Object(We.jsx)(Ht.a,{size:"lg",placeholder:u("No widgets"),data:c,value:l,cleanable:!1,className:e.SelectPicker,onChange:function(e){d({type:F.a.SET_SELECTED_WIDGET,payload:e}),Object(Ut.a)({page:j,history:b,params:{widget:e}})}})},Xt=a(784),Kt=a(805),$t=a(796),qt=a(788),Qt=a(779),Zt=a(800),ea=a(807),ta=a(434),aa=a.n(ta),na=a(143),ia=a.n(na),ca=function(e,t,a,n){a.some((function(t){return ia()(t,e)}))||(n({type:F.a.SET_REGISTERED_PARAMS,payload:e}),t&&t.send(JSON.stringify({id:I,parameters:[e]})))},ra=function(e,t,a,n){if(void 0!==(null===e||void 0===e?void 0:e.disabled)&&t[2]===n)e.disabled=!t[3][0];else if(a&&a&&e&&void 0===e.disabled){var i;e.disabled=!(null===(i=Object(le.a)(a,(function(e,t,a){if(null===a||void 0===a?void 0:a.includes(n))return!0})))||void 0===i?void 0:i.parent[4][0])}},oa=function(e){return e>=600&&e<960?{stageWidth:.6*e,stageHeight:.6*e*.66666666666}:e>=960&&e<1280?{stageWidth:.45*e,stageHeight:.45*e*.66666666666}:{stageWidth:.43*e,stageHeight:.43*e*.66666666666}},la=function(){var e=Object(n.useState)({innerWidth:null,innerHeight:null}),t=Object(f.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){var e=function(){i({innerWidth:window.innerWidth,innerHeight:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a},sa=a(145),da=a(436),ua=Object(ee.a)((function(e){return{rootPaper:Object(z.a)({height:"calc(100% - 100px)",overflow:"auto",padding:e.spacing(1)},e.breakpoints.up("lg"),{marginBottom:e.spacing(1),marginRight:0,height:"calc(100vh - 140px)"}),spacer:{height:e.spacing(2),width:e.spacing(2)},HLayout:{display:"flex",alignItems:"flex-start"},VLayout:{margin:e.spacing(1)},paragraph:{marginBottom:e.spacing(1),marginTop:e.spacing(1)},header:{fontSize:"25px"},ComboBox:{width:"25vw",marginRight:e.spacing(2)},button:{margin:e.spacing(1),whiteSpace:"nowrap",width:"fit-content",height:"fit-content"},imgContainer:function(e){return{position:"relative",height:e.stageHeight+10}},img:{position:"absolute",zIndex:1,backgroundColor:e.palette.background.default},stage:{position:"absolute",zIndex:10},HSliderFloat:{minWidth:"200px"},GridLayout:{display:"grid"},VSliderFloat:{height:"40vh"},grid:{margin:0},VSliderFloatContainer:{width:"fit-content"}}})),ba=function(e){var t=e.shapeProps,a=e.isSelected,i=e.onChange,c=e.setDisabledPan,r=Object(n.useRef)(),o=Object(n.useRef)();return Object(n.useEffect)((function(){a&&(o.current.nodes([r.current]),o.current.getLayer().batchDraw())}),[a]),Object(We.jsxs)(We.Fragment,{children:[Object(We.jsx)(sa.a,Object(b.a)(Object(b.a)({ref:r},t),{},{strokeScaleEnabled:!1,strokeWidth:1,strokeLinearGradientStartPoint:{x:0,y:0},strokeLinearGradientEndPoint:{x:200,y:150},strokeLinearGradientColorStops:[0,O.a[800]],draggable:!0,onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},onTouchStart:function(){return c(!0)},onTouchEnd:function(){return c(!1)},onDragEnd:function(e){c(!1),i(Object(b.a)(Object(b.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformStart:function(){return c(!0)},onTransformEnd:function(){c(!1);var e=r.current,a=e.scaleX(),n=e.scaleY();e.scaleX(1),e.scaleY(1),i(Object(b.a)(Object(b.a)({},t),{},{x:e.x(),y:e.y(),width:Math.max(5,e.width()*a),height:Math.max(e.height()*n)}))}})),a&&Object(We.jsx)(sa.e,{ref:o,borderEnabled:!1,rotateEnabled:!1,anchorFill:"transparent",enabledAnchors:["middle-left","top-center","middle-right","bottom-center"],boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})},ja=function(e){var t=e.shapeProps,a=e.isSelected,i=e.onChange,c=e.setDisabledPan,r=Object(n.useRef)(),o=Object(n.useRef)();return Object(n.useEffect)((function(){a&&(o.current.nodes([r.current]),o.current.getLayer().batchDraw())}),[a]),Object(We.jsxs)(We.Fragment,{children:[Object(We.jsx)(sa.c,Object(b.a)(Object(b.a)({ref:r},t),{},{draggable:!0,strokeScaleEnabled:!1,strokeWidth:1,strokeLinearGradientStartPoint:{x:0,y:0},strokeLinearGradientEndPoint:{x:200,y:150},strokeLinearGradientColorStops:[0,O.a[800]],onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},onTouchStart:function(){return c(!0)},onTouchEnd:function(){return c(!1)},onDragEnd:function(e){c(!1),i(Object(b.a)(Object(b.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformStart:function(){return c(!0)},onTransformEnd:function(){c(!1);var e=r.current,a=e.scaleX(),n=e.scaleY();e.scaleX(1),e.scaleY(1),i(Object(b.a)(Object(b.a)({},t),{},{x:e.x(),y:e.y(),width:Math.max(5,e.width()*a),height:Math.max(e.height()*n)}))}})),a&&Object(We.jsx)(sa.e,{ref:o,borderEnabled:!1,rotateEnabled:!1,anchorFill:"transparent",boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})},pa=function(){var e=Object(r.f)(),t=Object(f.a)(e,2),a=t[0],c=a.widgetsXML,o=a.updatedParams,l=a.comboLists,s=a.nodesParams,d=a.comboBoxToFill,u=a.updateReactWidgetTree,j=a.selectedWidget,p=a.ws,O=a.disabledElements,m=a.registeredParameters,h=t[1],g=Object(r.e)(),E=Object(f.a)(g,1)[0],v=E.ip,x=E.port,S=Object(n.useState)(null),y=Object(f.a)(S,2),T=y[0],I=y[1],P=Object(n.useState)([]),w=Object(f.a)(P,2),L=w[0],M=w[1],N=Object(n.useState)(!1),R=Object(f.a)(N,2),A=R[0],D=R[1],k=Object(n.useState)({}),B=Object(f.a)(k,2),G=B[0],W=B[1],Y=la().innerWidth,H=Object(n.useMemo)((function(){return oa(Y)}),[Y]),z=H.stageWidth,U=H.stageHeight,V=ua({stageHeight:U}),J=function(e){var t=e.node,a=e.param,n=e.value,i=void 0===n?"0":n;p.send(JSON.stringify({id:_,node:t,param:a,value:i}))},X=function(e){var t=e.node,a=e.param,n=e.e,i=e.options,c=(void 0===i?[]:i).findIndex((function(e){return e===n.target.value}));p&&p.send(JSON.stringify({id:_,node:t,param:a,value:"".concat(c)}))},K=function(e,t,a){var n=a.param,i=a.node;M((function(e){return e.map((function(e){return i===e.node&&n===e.param&&(e.value=t),e}))}))},$=function(e,t,a){var n=a.param,i=a.node;M((function(e){return e.map((function(e){return i===e.node&&n===e.param&&(e.value=t),e}))})),p.send(JSON.stringify({id:_,node:i,param:n,value:"".concat(t)}))},q=function(e,t){var a=t.param,n=t.node,i=e.target.value;M((function(e){return e.map((function(e){return a===e.param&&n===e.node&&(e.value=i),e}))}))},Q=function(e,t){var a=t.min,n=t.max,i=t.param,c=t.node;M((function(e){return e.map((function(e){var t;return e.param===i&&c===e.node&&(e.value<a?e.value=a:e.value>n&&(e.value=n),t="".concat(e.value),p.send(JSON.stringify({id:_,node:c,param:i,value:t}))),e}))}))},Z=function(e,t){var a=t.param,n=t.node,i=e.target.checked;p.send(JSON.stringify({id:_,node:n,param:a,value:"".concat(i)}))},ee=Object(n.useMemo)((function(){return new aa.a({Wizard:function(){return{type:i.a.Fragment}},VLayout:function(e){return{type:"div",props:{className:V.VLayout,style:{gridColumnStart:Number(e.gridPositionX)+1||1,gridRowStart:Number(e.gridPositionY)+1||1}}}},GridLayout:function(){return{type:"div",props:{className:V.GridLayout}}},Spacer:function(){return{type:"br",props:{className:V.spacer}}},HLayout:function(e){return{type:"div",props:Object(b.a)(Object(b.a)({},e),{},{className:V.HLayout})}},Button:function(e){var t={node:e.node,param:e.param,type:"Button"};ca(t,p,m,h);var a=L.find((function(t){return t.param===e.param&&t.node===e.node}));return ra(a,O,s,e.param),{type:xe.a,props:{variant:"contained",onClick:function(){return J(e)},children:Object(We.jsx)(We.Fragment,{children:e.label||e.param}),color:"primary",disabled:null===a||void 0===a?void 0:a.disabled,size:"small",style:{gridColumnStart:Number(e.gridPositionX)>=0?Number(e.gridPositionX)+1:1,gridRowStart:Number(e.gridPositionY)>=0?Number(e.gridPositionY)+1:1},className:V.button}}},Label:function(e){var t={node:e.node,param:e.param,type:"Label"};ca(t,p,m,h);var a=L.find((function(t){return t.param===e.param&&t.node===e.node}));return{type:fe.a,props:{className:V.paragraph,paragraph:!0,style:{gridColumnStart:Number(e.gridPositionX)>=0?Number(e.gridPositionX)+1:1,gridRowStart:Number(e.gridPositionY)>=0?Number(e.gridPositionY)+1:1},children:Object(We.jsx)(We.Fragment,{children:(null===a||void 0===a?void 0:a.value)||e.text})}}},Image:function(e){var t,a=e.node,n=e.param,i=e.screenAreaControls,c={node:a,param:"Calibration Area",type:"ComboBox"},r={node:a,param:"Bounding Box Off",type:"CheckBox"},o=["Automatic","Manual","Full Camera Frame"];ca({node:a,param:n,type:"Image"},p,m,h),ca(c,p,m,h),ca(r,p,m,h),ca({node:a,param:"$screenAreaNormalized",type:""},p,m,h),d.some((function(e){return ia()(e,c)}))||(h({type:F.a.SET_COMBO_BOX_TO_FILL,payload:c}),p&&p.send(JSON.stringify({id:C,parameters:[c]})));var s=l.find((function(e){return"Calibration Area"===e.param})),u=L.find((function(e){return"Calibration Area"===e.param})),b="true"===(null===(t=L.find((function(e){return"Bounding Box Off"===e.param})))||void 0===t?void 0:t.value),j="Manual"===(null===s||void 0===s?void 0:s.comboList[null===u||void 0===u?void 0:u.value]);return{type:"div",props:{style:{minWidth:"65%"},children:Object(We.jsxs)(We.Fragment,{children:[Object(We.jsx)("div",{className:V.imgContainer,children:Object(We.jsxs)(da.MapInteractionCSS,{disablePan:A,children:[Object(We.jsx)("img",{width:z,height:U,className:V.img,src:"http://".concat(v,":").concat(x,"/serverImageParam?node=").concat(a,"&param=").concat(n,"&cashing=").concat(Date.now()),alt:"img"}),j&&i&&Object(We.jsx)(sa.d,{width:z,height:U,className:V.stage,children:Object(We.jsx)(sa.b,{children:b?Object(We.jsx)(ba,{shapeProps:G,isSelected:!0,setDisabledPan:D,onChange:function(e){return function(e,t){W(e);var a={x:Number(((e.x-e.width/2)/z).toFixed(14)),y:Number(((e.x+e.width/2)/z).toFixed(14)),z:Number(((U-e.y-e.height/2)/U).toFixed(14)),w:Number(((U-e.y+e.height/2)/U).toFixed(14))};p.send(JSON.stringify({id:_,node:t,param:"$screenAreaNormalized",value:"".concat(a.x," ").concat(a.z," ").concat(a.y," ").concat(a.w)}))}(e,a)}}):Object(We.jsx)(ja,{shapeProps:G,isSelected:!0,setDisabledPan:D,onChange:function(e){return function(e,t){W(e);var a={x:Number((e.x/z).toFixed(14)),y:Number(((e.x+e.width)/z).toFixed(14)),z:Number(((U-e.y-e.height)/U).toFixed(14)),w:Number(((U-e.y)/U).toFixed(14))};p.send(JSON.stringify({id:_,node:t,param:"$screenAreaNormalized",value:"".concat(a.x," ").concat(a.z," ").concat(a.y," ").concat(a.w)}))}(e,a)}})})})]})}),i&&Object(We.jsxs)(ae.a,{wrap:"nowrap",container:!0,alignItems:"center",spacing:1,children:[Object(We.jsx)(ae.a,{item:!0,children:Object(We.jsxs)(Xt.a,{size:"small",variant:"filled",children:[Object(We.jsx)(Kt.a,{htmlFor:"filled-calibration-area",children:"Calibration Area:"}),Object(We.jsx)($t.a,{value:(null===s||void 0===s?void 0:s.comboList[null===u||void 0===u?void 0:u.value])||"",className:V.ComboBox,onChange:function(e){return X({e:e,options:o,node:a,param:"Calibration Area"})},inputProps:{name:"Calibration Area",id:"filled-calibration-area"},children:(null===s||void 0===s?void 0:s.comboList)&&s.comboList.map((function(e){return Object(We.jsx)(qt.a,{value:e,children:e},e)}))})]})}),Object(We.jsx)(ae.a,{item:!0,children:Object(We.jsx)(Qt.a,{defaultChecked:!0,color:"primary",name:"Bounding Box Off",control:Object(We.jsx)(Zt.a,{checked:b,onChange:function(e){return Z(e,r)}}),label:"Bounding Box Off"})}),Object(We.jsx)(ae.a,{item:!0,children:Object(We.jsx)(xe.a,{variant:"contained",onClick:function(){return J({node:a,param:"$screenAreaNormalized",value:"0.2 0.2 0.8 0.8"})},color:"primary",size:"small",className:V.button,children:"Reset Calibration Area"})})]})]})}}},ComboBox:function(e){var t={node:e.node,param:e.param,type:"ComboBox"};ca(t,p,m,h),d.some((function(e){return ia()(e,t)}))||(h({type:F.a.SET_COMBO_BOX_TO_FILL,payload:t}),p&&p.send(JSON.stringify({id:C,parameters:[t]})));var a=l.find((function(t){return t.param===e.param&&t.node===e.node})),n=L.find((function(t){return t.param===e.param&&t.node===e.node}));return ra(n,O,s,e.param),{type:Xt.a,props:{variant:"filled",size:"small",disabled:null===n||void 0===n?void 0:n.disabled,style:{gridColumnStart:Number(e.gridPositionX)>=0?Number(e.gridPositionX)+1:1,gridRowStart:Number(e.gridPositionY)>=0?Number(e.gridPositionY)+1:1},className:V.ComboBox,children:Object(We.jsxs)(We.Fragment,{children:[Object(We.jsx)(Kt.a,{htmlFor:"filled-".concat(e.label),children:e.label}),Object(We.jsx)($t.a,{value:(null===a||void 0===a?void 0:a.comboList[null===n||void 0===n?void 0:n.value])||"",className:V.ComboBox,onChange:function(t){return X(Object(b.a)(Object(b.a)({},e),{},{e:t,options:null===a||void 0===a?void 0:a.comboList}))},inputProps:{name:"Calibration Area",id:"filled-".concat(e.label)},children:(null===a||void 0===a?void 0:a.comboList)&&a.comboList.map((function(e){return Object(We.jsx)(qt.a,{value:e,children:e},e)}))})]})}}},CheckBox:function(e){var t={node:e.node,param:e.param,type:"CheckBox"};ca(t,p,m,h);var a=L.find((function(t){return("value"===t.param||e.param===t.param)&&e.node===t.node}));return ra(a,O,s,e.param),{type:Qt.a,props:Object(b.a)(Object(b.a)({},e),{},{defaultChecked:!0,color:"primary",name:e.label,disabled:null===a||void 0===a?void 0:a.disabled,style:{gridColumnStart:Number(e.gridPositionX)>=0?Number(e.gridPositionX)+1:1,gridRowStart:Number(e.gridPositionY)>=0?Number(e.gridPositionY)+1:1},control:Object(We.jsx)(Zt.a,{checked:"true"===(null===a||void 0===a?void 0:a.value),onChange:function(e){return Z(e,t)}}),label:e.label})}},HSliderFloat:function(e){var t={node:e.node,param:e.param,type:"HSliderFloat"};ca(t,p,m,h);var a=L.find((function(t){return e.param===t.param&&e.node===t.node}));return ra(a,O,s,e.param),{type:ae.a,props:{container:!0,spacing:1,wrap:"nowrap",alignItems:"center",className:V.grid,justify:"flex-start",children:Object(We.jsxs)(We.Fragment,{children:[e.label&&Object(We.jsx)(ae.a,{item:!0,children:Object(We.jsx)(fe.a,{children:e.label})}),Object(We.jsx)(ae.a,{item:!0,children:Object(We.jsx)(fe.a,{children:e.min})}),Object(We.jsx)(ae.a,{item:!0,children:Object(We.jsx)(ut.a,{step:.01,disabled:null===a||void 0===a?void 0:a.disabled,min:+e.min,max:+e.max,className:V.HSliderFloat,value:+(null===a||void 0===a?void 0:a.value),onChange:function(t,a){return K(0,a,e)},onChangeCommitted:function(t,a){return $(0,a,e)}})}),Object(We.jsx)(ae.a,{item:!0,children:Object(We.jsx)(fe.a,{children:e.max})}),Object(We.jsx)(ae.a,{item:!0,children:Object(We.jsx)(ea.a,{value:""===(null===a||void 0===a?void 0:a.value)||(null===a||void 0===a?void 0:a.value)?null===a||void 0===a?void 0:a.value:0,margin:"dense",variant:"outlined",onChange:function(t){return q(t,e)},disabled:null===a||void 0===a?void 0:a.disabled,onBlur:function(t){return Q(0,{min:+e.min,max:+e.max,param:e.param,node:e.node})},inputProps:{step:.01,min:+e.min,max:+e.max,type:"number"}})})]})}}},VSliderFloat:function(e){var t={node:e.node,param:e.param,type:"VSliderFloat"};ca(t,p,m,h);var a=L.find((function(t){return e.param===t.param&&e.node===t.node}));return ra(a,O,s,e.param),{type:ae.a,props:{container:!0,spacing:1,direction:"column",wrap:"nowrap",alignItems:"center",className:V.VSliderFloatContainer,children:Object(We.jsxs)(We.Fragment,{children:[e.label&&Object(We.jsx)(ae.a,{item:!0,children:Object(We.jsx)(fe.a,{children:e.label})}),Object(We.jsx)(ae.a,{item:!0,children:e.max}),Object(We.jsx)(ae.a,{className:V.VSliderFloat,item:!0,children:Object(We.jsx)(ut.a,{step:.01,min:+e.min,max:+e.max,className:V.VSliderFloat,orientation:"vertical",disabled:null===a||void 0===a?void 0:a.disabled,value:Number(null===a||void 0===a?void 0:a.value),onChange:function(t,a){return K(0,a,e)},onChangeCommitted:function(t,a){return $(0,a,e)}})}),Object(We.jsx)(ae.a,{item:!0,children:e.min}),Object(We.jsx)(ae.a,{item:!0,children:Object(We.jsx)(ea.a,{value:""===(null===a||void 0===a?void 0:a.value)||(null===a||void 0===a?void 0:a.value)?null===a||void 0===a?void 0:a.value:0,margin:"dense",variant:"outlined",onChange:function(t){return q(t,e)},disabled:null===a||void 0===a?void 0:a.disabled,onBlur:function(t){return Q(0,{min:+e.min,max:+e.max,param:e.param,node:e.node})},inputProps:{step:.01,min:+e.min,max:+e.max,type:"number"}})})]})}}}})}),[L,p,s,l,m,d,O,A,V,u,j,G,z,U]);return Object(n.useEffect)((function(){o.forEach((function(e){var t=L.some((function(t){return e.node===t.node&&e.param===t.param}));M((function(a){return t?a.map((function(t){return e.node===t.node&&e.param===t.param?Object(b.a)(Object(b.a)({},t),e):t})):[].concat(Object(ie.a)(a),[e])}))}))}),[o]),Object(n.useEffect)((function(){var e=o.find((function(e){return"$screenAreaNormalized"===e.param}))||L.find((function(e){return"$screenAreaNormalized"===e.param})),t=o.find((function(e){return"Bounding Box Off"===e.param}))||L.find((function(e){return"Bounding Box Off"===e.param}));if(e&&t){var a=e.value.split(" "),n=Number(((a[2]-a[0])*z).toFixed(14)),i=Number(((a[3]-a[1])*U).toFixed(14));if("true"===t.value){var c={x:Number((a[0]*z+n/2).toFixed(14)),y:Number(((1-a[3])*U+i/2).toFixed(14)),width:n,height:i,id:"ellipse"};ia()(G,c)||W(c)}else if("false"===t.value){var r={x:Number((a[0]*z).toFixed(14)),y:Number(((1-a[3])*U).toFixed(14)),width:n,height:i,id:"rect"};ia()(G,r)||W(r)}}}),[L,o,z,U]),Object(n.useEffect)((function(){I(ee.convert(c))}),[c,ee]),Object(n.useMemo)((function(){return Object(We.jsx)(ne.a,{className:V.rootPaper,children:p&&T})}),[T,p,V])},Oa=Object(ee.a)((function(e){return{container:Object(z.a)({height:"100%"},e.breakpoints.up("md"),{padding:e.spacing(1)})}})),ma=function(){var e=Oa();return Object(We.jsxs)("div",{className:e.container,children:[Object(We.jsx)(Jt,{}),Object(We.jsx)(pa,{})]})},fa=Object(ee.a)({formControl:{width:85,display:"flex",justifyContent:"center"}}),ha=function(e){var t=e.style,a=fa(),i=Object(Ce.a)().i18n,c=Object(n.useState)(localStorage.getItem("SBWebLanguage")||"en"),r=Object(f.a)(c,2),o=r[0],l=r[1];return Object(We.jsx)(Xt.a,{style:t,size:"small",variant:"outlined",className:a.formControl,children:Object(We.jsxs)($t.a,{value:o,onChange:function(e){var t=e.target.value;l(t),i.changeLanguage(t),localStorage.setItem("SBWebLanguage",t)},children:[Object(We.jsx)(qt.a,{value:"en",children:"EN"}),Object(We.jsx)(qt.a,{value:"ch",children:"CH"})]})})},ga=a(437),Ea=a.n(ga),va=Object(ee.a)((function(e){return{toolbar:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),icon:Object(z.a)({marginRight:e.spacing(1)},e.breakpoints.up("desktop"),{marginRight:0,fontSize:"35px"}),switcher:{marginLeft:"auto"},AppBarFooter:{top:"auto ",bottom:0},TabContentContainer:{height:"100%",width:"100%",overflow:"hidden",position:"fixed"},Label:Object(z.a)({},e.breakpoints.down("md"),{lineHeight:1.2})}})),xa=function(e){var t=e.children,a=(e.value,e.index),n=e.currentPage,i=e.page,c=Object(H.a)(e,["children","value","index","currentPage","page"]);return Object(We.jsx)(U.a,Object(b.a)(Object(b.a)({height:"100%",overflow:"hidden",display:n===i?"block":"none",id:"full-width-tabpanel-".concat(a),"aria-labelledby":"full-width-tab-".concat(a),style:{willChange:"transform"}},c),{},{children:t}))},Sa=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}},ya=function(){var e=va(),t=Object(te.a)(),a=Object(n.useState)(0),i=Object(f.a)(a,2),c=i[0],r=i[1],o=Object(Ce.a)().t,l=Object(zt.e)(),s=k.a.parse(window.location.search).page,d=function(e){0===e&&l.replace({search:k.a.stringify(Object(b.a)(Object(b.a)({},k.a.parse(window.location.search)),{},{page:"media-player"}))}),1===e&&l.replace({search:k.a.stringify(Object(b.a)(Object(b.a)({},k.a.parse(window.location.search)),{},{page:"widgets"}))}),r(e)};return Object(n.useEffect)((function(){"media-player"===s&&0!==c&&r(0),"widgets"===s&&1!==c&&r(1)}),[s]),Object(We.jsxs)(We.Fragment,{children:[Object(We.jsx)(V.a,{}),Object(We.jsxs)(Ea.a,{index:c,disabled:!0,className:e.TabContentContainer,onChangeIndex:function(e){return d(e)},children:[Object(We.jsx)(xa,{page:"media-player",currentPage:s||"media-player",value:c,index:0,children:Object(We.jsx)(Yt,{})}),Object(We.jsx)(xa,{page:"widgets",currentPage:s,value:c,index:1,children:Object(We.jsx)(ma,{})})]}),Object(We.jsx)(J.a,{className:e.AppBarFooter,color:"default",children:Object(We.jsxs)(X.a,{value:c,onChange:function(e,t){return d(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",TabIndicatorProps:{style:{width:"calc(50vw - 50px)"}},children:[Object(We.jsx)(K.a,Object(b.a)({classes:{root:e.Label},label:Object(We.jsxs)(U.a,{display:"flex",alignItems:"center",children:[Object(We.jsx)(Z.a,{className:e.icon}),o("Media Player")]})},Sa(0))),Object(We.jsx)(K.a,Object(b.a)({classes:{root:e.Label},label:Object(We.jsxs)(U.a,{display:"flex",alignItems:"center",children:[Object(We.jsx)(q.a,{className:e.icon}),o("Widgets")]})},Sa(1))),Object(We.jsx)(ha,{style:{marginLeft:t.spacing(1),marginRight:t.spacing(1)}})]})})]})},Ta=a(88),_a=a(782),Ia=a(787),Pa=a(791),Ca=a(792),wa=a(438),La=a.n(wa),Ma=a(441),Na=a.n(Ma),Ra=a(440),Aa=a.n(Ra),Da=a(442),ka=a.n(Da),Ba=a(439),Fa=a.n(Ba),Ga=a(90),Wa=function(e){var t=e.children,a=e.to,c=Object(H.a)(e,["children","to"]),r=Object(n.useMemo)((function(){return i.a.forwardRef((function(e,t){return Object(We.jsx)(Ga.b,Object(b.a)({ref:t,to:a},e))}))}),[a]);return Object(We.jsx)(ue.a,Object(b.a)(Object(b.a)({},c),{},{button:!0,component:r,children:t}))},Ya=a(6),Ha=function(){var e=Object(zt.e)(),t=k.a.parse(window.location.search).page;return Object(n.useEffect)((function(){"about"===t&&Object(Ut.a)({page:t,history:e})}),[t]),null},za=240,Ua=Object(ee.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),willChange:"width, margin"},appBarShift:{marginLeft:za,width:"calc(100% - ".concat(za,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),willChange:"width, margin"},hide:{display:"none"},drawer:{width:za,flexShrink:0},drawerPaper:{width:za},toolbar:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),icon:Object(z.a)({marginRight:e.spacing(1)},e.breakpoints.up("lg"),{marginRight:0,fontSize:"35px"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),willChange:"width, margin",paddingLeft:0,paddingTop:e.spacing(1)},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),willChange:"width, margin",marginLeft:0},logo:{width:38,height:38,marginRight:7},isConnected:{margin:e.spacing(1),whiteSpace:"nowrap"}}})),Va=function(){var e=Object(te.a)(),t=Ua(),a=Object(n.useState)(!1),i=Object(f.a)(a,2),c=i[0],o=i[1],l=Object(Ce.a)().t,s=Object(r.e)(),d=Object(f.a)(s,1)[0].isConnected,u=Object(zt.f)(),j=k.a.parse(u.search),p=j.page,m=j.serverIp,h=j.serverPort,g=function(){return o(!1)};return Object(We.jsxs)(We.Fragment,{children:[Object(We.jsx)(V.a,{}),Object(We.jsx)(J.a,{position:"fixed",className:Object(Ya.default)(t.appBar,Object(z.a)({},t.appBarShift,c)),children:Object(We.jsxs)(Je.a,{children:[Object(We.jsx)(de.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return o(!0)},edge:"start",className:Object(Ya.default)(c&&t.hide),children:Object(We.jsx)(La.a,{})}),Object(We.jsxs)(Wa,{to:Object(b.a)(Object(b.a)({},u),{},{search:k.a.stringify(m||h?{page:"root",serverIp:m,serverPort:h}:{page:"root"})}),children:[Object(We.jsx)("img",{className:t.logo,src:"".concat(".","/assets/icons/logo/Screenberry_Logo_Web.svg"),alt:"logo"}),Object(We.jsx)(fe.a,{variant:"h6",noWrap:!0,children:"Screenberry Web Panel"})]}),Object(We.jsx)(fe.a,{className:t.isConnected,children:l(d?"Connected":"Disconnected")}),Object(We.jsx)(Fa.a,{style:{color:d?"#00d215":"#ce9a1d"}}),Object(We.jsx)(ha,{})]})}),Object(We.jsxs)(Ta.a,{className:t.drawer,anchor:"left",open:c,onClose:g,classes:{paper:t.drawerPaper},children:[Object(We.jsx)("div",{className:t.toolbar,children:Object(We.jsx)(de.a,{onClick:g,children:"rtl"===e.direction?Object(We.jsx)(Aa.a,{}):Object(We.jsx)(Na.a,{})})}),Object(We.jsx)(_a.a,{}),Object(We.jsxs)(Ia.a,{component:"nav",children:[Object(We.jsxs)(Wa,{onClick:g,activeStyle:"media-player"===p?{borderRight:"2px solid ".concat(O.a[800])}:{},to:Object(b.a)(Object(b.a)({},u),{},{search:k.a.stringify(Object(b.a)(Object(b.a)({},k.a.parse(u.search)),{},{page:"media-player"}))}),children:[Object(We.jsx)(Pa.a,{children:Object(We.jsx)(Z.a,{className:t.icon})}),Object(We.jsx)(Ca.a,{primary:l("Media Player")})]}),Object(We.jsxs)(Wa,{onClick:g,activeStyle:"widgets"===p?{borderRight:"2px solid ".concat(O.a[800])}:{},to:Object(b.a)(Object(b.a)({},u),{},{search:k.a.stringify(Object(b.a)(Object(b.a)({},k.a.parse(u.search)),{},{page:"widgets"}))}),children:[Object(We.jsx)(Pa.a,{children:Object(We.jsx)(q.a,{className:t.icon})}),Object(We.jsx)(Ca.a,{primary:l("Widgets")})]}),Object(We.jsxs)(Wa,{onClick:g,activeStyle:"about"===p?{borderRight:"2px solid ".concat(O.a[800])}:{},to:Object(b.a)(Object(b.a)({},u),{},{search:k.a.stringify(Object(b.a)(Object(b.a)({},k.a.parse(u.search)),{},{page:"about"}))}),children:[Object(We.jsx)(Pa.a,{children:Object(We.jsx)(ka.a,{className:t.icon})}),Object(We.jsx)(Ca.a,{primary:l("About")})]})]}),Object(We.jsx)(_a.a,{})]}),Object(We.jsxs)("main",{className:Object(Ya.default)(t.content,Object(z.a)({},t.contentShift,c)),children:[Object(We.jsx)("div",{className:t.toolbar}),Object(We.jsx)(U.a,{display:"media-player"!==p&&p?"none":"block",children:Object(We.jsx)(Yt,{page:p})}),Object(We.jsx)(U.a,{display:"widgets"===p?"block":"none",children:Object(We.jsx)(ma,{page:p})}),Object(We.jsx)(U.a,{display:"about"===p?"block":"none",children:Object(We.jsx)(Ha,{page:p})})]})]})},Ja=a(801),Xa=a(797),Ka=function(e){return Object(We.jsx)(Xa.a,Object(b.a)({elevation:6,variant:"filled"},e))},$a=function(){var e=Object(r.e)(),t=Object(f.a)(e,2),a=t[0].logMsg,n=a.showLogMsg,i=a.from,c=a.msg,o=a.severity,l=a.duration,s=t[1],d=function(){return s({type:F.a.HIDE_LOG_MSG})};return Object(We.jsx)(Ja.a,{onClose:"error"===o?function(){}:d,autoHideDuration:l,open:n,children:Object(We.jsxs)(Ka,{onClose:d,severity:o,children:[Object(We.jsx)(U.a,{component:"h5",children:i}),Object(We.jsx)(U.a,{component:"p",children:c})]})})},qa=Object(j.a)({palette:{type:"dark",primary:{main:O.a[800],darkTransparentBtn:"rgba(0,0,0,0.4)"},secondary:{main:"#169de0"}}}),Qa=function(){var e=Object(m.a)("(min-width:1280px)");Y();var t=Object(zt.e)(),a=k.a.parse(window.location.search);return Object(n.useEffect)((function(){a.page||t.replace({search:k.a.stringify(Object(b.a)(Object(b.a)({},a),{},{page:"media-player"}))})}),[]),Object(n.useMemo)((function(){return Object(We.jsxs)(p.a,{theme:qa,children:[e?Object(We.jsx)(Va,{}):Object(We.jsx)(ya,{}),Object(We.jsx)($a,{})]})}),[e])},Za=function(){var e=function(){"caches"in window&&caches.keys().then((function(e){for(var t=0,a=e;t<a.length;t++){var n=a[t];caches.delete(n)}}))};Object(n.useEffect)((function(){return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[])},en=function(){return Za(),Object(We.jsx)(Ga.a,{children:Object(We.jsx)(zt.a,{path:["/:page","/"],children:Object(We.jsx)(Qa,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(c.render)(Object(We.jsx)(r.a,{children:Object(We.jsx)(en,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,a){"use strict";var n=a(5),i=a(29),c=a.n(i);t.a=function(e){var t=e.page,a=e.history,i=e.params,r=void 0===i?{}:i,o=c.a.parse(window.location.search);"media-player"===t&&delete o.widget,"widgets"===t&&(delete o.MP,delete o.playlistId),"about"===t&&(delete o.MP,delete o.playlistId,delete o.widget),a.replace({search:c.a.stringify(Object(n.a)(Object(n.a)({},o),r))})}}},[[724,1,2]]]);
//# sourceMappingURL=main.c642f559.chunk.js.map